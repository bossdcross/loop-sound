{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@rozhkov/react-useful-hooks","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":43},"end":{"line":2,"column":64,"index":107}}],"key":"Zzx/Z9PPM0tn8FrOUQYAh/SoWqU=","exportNames":["*"],"imports":1}},{"name":"../../../utils/scrolling","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":108},"end":{"line":3,"column":56,"index":164}}],"key":"6ME9D9vzM8Dh4Sk5QcQf2Sglikk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _rozhkovReactUsefulHooks = require(_dependencyMap[1], \"@rozhkov/react-useful-hooks\");\n  var _utilsScrolling = require(_dependencyMap[2], \"../../../utils/scrolling\");\n  const useValueEventsEffect = ({\n    valueIndex,\n    data,\n    itemHeight,\n    offsetYAv\n  }, {\n    onValueChanging,\n    onValueChanged\n  }) => {\n    const activeIndexRef = (0, _react.useRef)(valueIndex);\n    const getIndex = (0, _rozhkovReactUsefulHooks.useStableCallback)(offset => (0, _utilsScrolling.getPageIndex)(offset, {\n      maxIndex: data.length - 1,\n      pageLength: itemHeight\n    }));\n    (0, _react.useEffect)(() => {\n      const id = offsetYAv.addListener(({\n        value: offset\n      }) => {\n        const index = getIndex(offset);\n        const activeIndex = activeIndexRef.current;\n        if (index !== activeIndex) {\n          activeIndexRef.current = index;\n          onValueChanging === null || onValueChanging === void 0 || onValueChanging({\n            item: data[index],\n            index\n          });\n        }\n      });\n      return () => {\n        offsetYAv.removeListener(id);\n      };\n    }, [data, getIndex, itemHeight, offsetYAv, onValueChanging]);\n    const onStableValueChanged = (0, _rozhkovReactUsefulHooks.useStableCallback)(() => {\n      const activeIndex = activeIndexRef.current;\n      if (activeIndex !== valueIndex) {\n        onValueChanged === null || onValueChanged === void 0 || onValueChanged({\n          index: activeIndex,\n          item: data[activeIndex]\n        });\n      }\n    });\n    return {\n      onScrollEnd: onStableValueChanged,\n      activeIndexRef\n    };\n  };\n  var _default = useValueEventsEffect;\n});","lineCount":63,"map":[[7,2,50,0,"Object"],[7,8,50,0],[7,9,50,0,"defineProperty"],[7,23,50,0],[7,24,50,0,"exports"],[7,31,50,0],[8,4,50,0,"enumerable"],[8,14,50,0],[9,4,50,0,"get"],[9,7,50,0],[9,18,50,0,"get"],[9,19,50,0],[10,6,50,0],[10,13,50,0,"_default"],[10,21,50,0],[11,4,50,0],[12,2,50,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_rozhkovReactUsefulHooks"],[14,30,2,0],[14,33,2,0,"require"],[14,40,2,0],[14,41,2,0,"_dependencyMap"],[14,55,2,0],[15,2,3,0],[15,6,3,0,"_utilsScrolling"],[15,21,3,0],[15,24,3,0,"require"],[15,31,3,0],[15,32,3,0,"_dependencyMap"],[15,46,3,0],[16,2,4,0],[16,8,4,6,"useValueEventsEffect"],[16,28,4,26],[16,31,4,29,"useValueEventsEffect"],[16,32,4,30],[17,4,5,2,"valueIndex"],[17,14,5,12],[18,4,6,2,"data"],[18,8,6,6],[19,4,7,2,"itemHeight"],[19,14,7,12],[20,4,8,2,"offsetYAv"],[21,2,9,0],[21,3,9,1],[21,5,9,3],[22,4,10,2,"onValueChanging"],[22,19,10,17],[23,4,11,2,"onValueChanged"],[24,2,12,0],[24,3,12,1],[24,8,12,6],[25,4,13,2],[25,10,13,8,"activeIndexRef"],[25,24,13,22],[25,27,13,25],[25,31,13,25,"useRef"],[25,37,13,31],[25,38,13,31,"useRef"],[25,44,13,31],[25,46,13,32,"valueIndex"],[25,56,13,42],[25,57,13,43],[26,4,14,2],[26,10,14,8,"getIndex"],[26,18,14,16],[26,21,14,19],[26,25,14,19,"useStableCallback"],[26,49,14,36],[26,50,14,36,"useStableCallback"],[26,67,14,36],[26,69,14,37,"offset"],[26,75,14,43],[26,79,14,47],[26,83,14,47,"getPageIndex"],[26,98,14,59],[26,99,14,59,"getPageIndex"],[26,111,14,59],[26,113,14,60,"offset"],[26,119,14,66],[26,121,14,68],[27,6,15,4,"maxIndex"],[27,14,15,12],[27,16,15,14,"data"],[27,20,15,18],[27,21,15,19,"length"],[27,27,15,25],[27,30,15,28],[27,31,15,29],[28,6,16,4,"pageLength"],[28,16,16,14],[28,18,16,16,"itemHeight"],[29,4,17,2],[29,5,17,3],[29,6,17,4],[29,7,17,5],[30,4,18,2],[30,8,18,2,"useEffect"],[30,14,18,11],[30,15,18,11,"useEffect"],[30,24,18,11],[30,26,18,12],[30,32,18,18],[31,6,19,4],[31,12,19,10,"id"],[31,14,19,12],[31,17,19,15,"offsetYAv"],[31,26,19,24],[31,27,19,25,"addListener"],[31,38,19,36],[31,39,19,37],[31,40,19,38],[32,8,20,6,"value"],[32,13,20,11],[32,15,20,13,"offset"],[33,6,21,4],[33,7,21,5],[33,12,21,10],[34,8,22,6],[34,14,22,12,"index"],[34,19,22,17],[34,22,22,20,"getIndex"],[34,30,22,28],[34,31,22,29,"offset"],[34,37,22,35],[34,38,22,36],[35,8,23,6],[35,14,23,12,"activeIndex"],[35,25,23,23],[35,28,23,26,"activeIndexRef"],[35,42,23,40],[35,43,23,41,"current"],[35,50,23,48],[36,8,24,6],[36,12,24,10,"index"],[36,17,24,15],[36,22,24,20,"activeIndex"],[36,33,24,31],[36,35,24,33],[37,10,25,8,"activeIndexRef"],[37,24,25,22],[37,25,25,23,"current"],[37,32,25,30],[37,35,25,33,"index"],[37,40,25,38],[38,10,26,8,"onValueChanging"],[38,25,26,23],[38,30,26,28],[38,34,26,32],[38,38,26,36,"onValueChanging"],[38,53,26,51],[38,58,26,56],[38,63,26,61],[38,64,26,62],[38,68,26,66,"onValueChanging"],[38,83,26,81],[38,84,26,82],[39,12,27,10,"item"],[39,16,27,14],[39,18,27,16,"data"],[39,22,27,20],[39,23,27,21,"index"],[39,28,27,26],[39,29,27,27],[40,12,28,10,"index"],[41,10,29,8],[41,11,29,9],[41,12,29,10],[42,8,30,6],[43,6,31,4],[43,7,31,5],[43,8,31,6],[44,6,32,4],[44,13,32,11],[44,19,32,17],[45,8,33,6,"offsetYAv"],[45,17,33,15],[45,18,33,16,"removeListener"],[45,32,33,30],[45,33,33,31,"id"],[45,35,33,33],[45,36,33,34],[46,6,34,4],[46,7,34,5],[47,4,35,2],[47,5,35,3],[47,7,35,5],[47,8,35,6,"data"],[47,12,35,10],[47,14,35,12,"getIndex"],[47,22,35,20],[47,24,35,22,"itemHeight"],[47,34,35,32],[47,36,35,34,"offsetYAv"],[47,45,35,43],[47,47,35,45,"onValueChanging"],[47,62,35,60],[47,63,35,61],[47,64,35,62],[48,4,36,2],[48,10,36,8,"onStableValueChanged"],[48,30,36,28],[48,33,36,31],[48,37,36,31,"useStableCallback"],[48,61,36,48],[48,62,36,48,"useStableCallback"],[48,79,36,48],[48,81,36,49],[48,87,36,55],[49,6,37,4],[49,12,37,10,"activeIndex"],[49,23,37,21],[49,26,37,24,"activeIndexRef"],[49,40,37,38],[49,41,37,39,"current"],[49,48,37,46],[50,6,38,4],[50,10,38,8,"activeIndex"],[50,21,38,19],[50,26,38,24,"valueIndex"],[50,36,38,34],[50,38,38,36],[51,8,39,6,"onValueChanged"],[51,22,39,20],[51,27,39,25],[51,31,39,29],[51,35,39,33,"onValueChanged"],[51,49,39,47],[51,54,39,52],[51,59,39,57],[51,60,39,58],[51,64,39,62,"onValueChanged"],[51,78,39,76],[51,79,39,77],[52,10,40,8,"index"],[52,15,40,13],[52,17,40,15,"activeIndex"],[52,28,40,26],[53,10,41,8,"item"],[53,14,41,12],[53,16,41,14,"data"],[53,20,41,18],[53,21,41,19,"activeIndex"],[53,32,41,30],[54,8,42,6],[54,9,42,7],[54,10,42,8],[55,6,43,4],[56,4,44,2],[56,5,44,3],[56,6,44,4],[57,4,45,2],[57,11,45,9],[58,6,46,4,"onScrollEnd"],[58,17,46,15],[58,19,46,17,"onStableValueChanged"],[58,39,46,37],[59,6,47,4,"activeIndexRef"],[60,4,48,2],[60,5,48,3],[61,2,49,0],[61,3,49,1],[62,2,50,0],[62,6,50,0,"_default"],[62,14,50,0],[62,17,50,15,"useValueEventsEffect"],[62,37,50,35],[63,0,50,36],[63,3]],"functionMap":{"names":["<global>","useValueEventsEffect","useStableCallback$argument_0","useEffect$argument_0","offsetYAv.addListener$argument_0","<anonymous>"],"mappings":"AAA;6BCG;qCCU;IDG;YEC;qCCC;KDY;WEC;KFE;GFC;iDCC;GDQ;CDK"},"hasCjsExports":false},"type":"js/module"}]}