{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":40,"index":40}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@rozhkov/react-useful-hooks","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":85},"end":{"line":3,"column":62,"index":147}}],"key":"Zzx/Z9PPM0tn8FrOUQYAh/SoWqU=","exportNames":["*"],"imports":1}},{"name":"../../../utils/scrolling","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":148},"end":{"line":4,"column":54,"index":202}}],"key":"6ME9D9vzM8Dh4Sk5QcQf2Sglikk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _rozhkovReactUsefulHooks = require(_dependencyMap[1], \"@rozhkov/react-useful-hooks\");\n  var _utilsScrolling = require(_dependencyMap[2], \"../../../utils/scrolling\");\n  var useValueEventsEffect = (_ref, _ref2) => {\n    var valueIndex = _ref.valueIndex,\n      data = _ref.data,\n      itemHeight = _ref.itemHeight,\n      offsetYAv = _ref.offsetYAv;\n    var onValueChanging = _ref2.onValueChanging,\n      onValueChanged = _ref2.onValueChanged;\n    var activeIndexRef = (0, _react.useRef)(valueIndex);\n    var getIndex = (0, _rozhkovReactUsefulHooks.useStableCallback)(offset => (0, _utilsScrolling.getPageIndex)(offset, {\n      maxIndex: data.length - 1,\n      pageLength: itemHeight\n    }));\n    (0, _react.useEffect)(() => {\n      var id = offsetYAv.addListener(_ref3 => {\n        var offset = _ref3.value;\n        var index = getIndex(offset);\n        var activeIndex = activeIndexRef.current;\n        if (index !== activeIndex) {\n          activeIndexRef.current = index;\n          onValueChanging?.({\n            item: data[index],\n            index\n          });\n        }\n      });\n      return () => {\n        offsetYAv.removeListener(id);\n      };\n    }, [data, getIndex, itemHeight, offsetYAv, onValueChanging]);\n    var onStableValueChanged = (0, _rozhkovReactUsefulHooks.useStableCallback)(() => {\n      var activeIndex = activeIndexRef.current;\n      if (activeIndex !== valueIndex) {\n        onValueChanged?.({\n          index: activeIndex,\n          item: data[activeIndex]\n        });\n      }\n    });\n    return {\n      onScrollEnd: onStableValueChanged,\n      activeIndexRef\n    };\n  };\n  var _default = useValueEventsEffect;\n});","lineCount":60,"map":[[7,2,64,0,"Object"],[7,8,64,0],[7,9,64,0,"defineProperty"],[7,23,64,0],[7,24,64,0,"exports"],[7,31,64,0],[8,4,64,0,"enumerable"],[8,14,64,0],[9,4,64,0,"get"],[9,7,64,0],[9,18,64,0,"get"],[9,19,64,0],[10,6,64,0],[10,13,64,0,"_default"],[10,21,64,0],[11,4,64,0],[12,2,64,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,3,0],[14,6,3,0,"_rozhkovReactUsefulHooks"],[14,30,3,0],[14,33,3,0,"require"],[14,40,3,0],[14,41,3,0,"_dependencyMap"],[14,55,3,0],[15,2,4,0],[15,6,4,0,"_utilsScrolling"],[15,21,4,0],[15,24,4,0,"require"],[15,31,4,0],[15,32,4,0,"_dependencyMap"],[15,46,4,0],[16,2,5,0],[16,6,5,6,"useValueEventsEffect"],[16,26,5,26],[16,29,5,29,"useValueEventsEffect"],[16,30,5,29,"_ref"],[16,34,5,29],[16,36,5,29,"_ref2"],[16,41,5,29],[16,46,26,5],[17,4,26,5],[17,8,7,4,"valueIndex"],[17,18,7,14],[17,21,7,14,"_ref"],[17,25,7,14],[17,26,7,4,"valueIndex"],[17,36,7,14],[18,6,8,4,"data"],[18,10,8,8],[18,13,8,8,"_ref"],[18,17,8,8],[18,18,8,4,"data"],[18,22,8,8],[19,6,9,4,"itemHeight"],[19,16,9,14],[19,19,9,14,"_ref"],[19,23,9,14],[19,24,9,4,"itemHeight"],[19,34,9,14],[20,6,10,4,"offsetYAv"],[20,15,10,13],[20,18,10,13,"_ref"],[20,22,10,13],[20,23,10,4,"offsetYAv"],[20,32,10,13],[21,4,10,13],[21,8,18,4,"onValueChanging"],[21,23,18,19],[21,26,18,19,"_ref2"],[21,31,18,19],[21,32,18,4,"onValueChanging"],[21,47,18,19],[22,6,19,4,"onValueChanged"],[22,20,19,18],[22,23,19,18,"_ref2"],[22,28,19,18],[22,29,19,4,"onValueChanged"],[22,43,19,18],[23,4,27,2],[23,8,27,8,"activeIndexRef"],[23,22,27,22],[23,25,27,25],[23,29,27,25,"useRef"],[23,35,27,31],[23,36,27,31,"useRef"],[23,42,27,31],[23,44,27,32,"valueIndex"],[23,54,27,42],[23,55,27,43],[24,4,28,2],[24,8,28,8,"getIndex"],[24,16,28,16],[24,19,28,19],[24,23,28,19,"useStableCallback"],[24,47,28,36],[24,48,28,36,"useStableCallback"],[24,65,28,36],[24,67,28,38,"offset"],[24,73,28,52],[24,77,29,4],[24,81,29,4,"getPageIndex"],[24,96,29,16],[24,97,29,16,"getPageIndex"],[24,109,29,16],[24,111,29,17,"offset"],[24,117,29,23],[24,119,29,25],[25,6,30,6,"maxIndex"],[25,14,30,14],[25,16,30,16,"data"],[25,20,30,20],[25,21,30,21,"length"],[25,27,30,27],[25,30,30,30],[25,31,30,31],[26,6,31,6,"pageLength"],[26,16,31,16],[26,18,31,18,"itemHeight"],[27,4,32,4],[27,5,32,5],[27,6,33,2],[27,7,33,3],[28,4,34,2],[28,8,34,2,"useEffect"],[28,14,34,11],[28,15,34,11,"useEffect"],[28,24,34,11],[28,26,34,12],[28,32,34,18],[29,6,35,4],[29,10,35,10,"id"],[29,12,35,12],[29,15,35,15,"offsetYAv"],[29,24,35,24],[29,25,35,25,"addListener"],[29,36,35,36],[29,37,35,37,"_ref3"],[29,42,35,37],[29,46,35,58],[30,8,35,58],[30,12,35,46,"offset"],[30,18,35,52],[30,21,35,52,"_ref3"],[30,26,35,52],[30,27,35,39,"value"],[30,32,35,44],[31,8,36,6],[31,12,36,12,"index"],[31,17,36,17],[31,20,36,20,"getIndex"],[31,28,36,28],[31,29,36,29,"offset"],[31,35,36,35],[31,36,36,36],[32,8,37,6],[32,12,37,12,"activeIndex"],[32,23,37,23],[32,26,37,26,"activeIndexRef"],[32,40,37,40],[32,41,37,41,"current"],[32,48,37,48],[33,8,38,6],[33,12,38,10,"index"],[33,17,38,15],[33,22,38,20,"activeIndex"],[33,33,38,31],[33,35,38,33],[34,10,39,8,"activeIndexRef"],[34,24,39,22],[34,25,39,23,"current"],[34,32,39,30],[34,35,39,33,"index"],[34,40,39,38],[35,10,40,8,"onValueChanging"],[35,25,40,23],[35,28,40,26],[36,12,41,10,"item"],[36,16,41,14],[36,18,41,16,"data"],[36,22,41,20],[36,23,41,21,"index"],[36,28,41,26],[36,29,41,28],[37,12,42,10,"index"],[38,10,43,8],[38,11,43,9],[38,12,43,10],[39,8,44,6],[40,6,45,4],[40,7,45,5],[40,8,45,6],[41,6,46,4],[41,13,46,11],[41,19,46,17],[42,8,47,6,"offsetYAv"],[42,17,47,15],[42,18,47,16,"removeListener"],[42,32,47,30],[42,33,47,31,"id"],[42,35,47,33],[42,36,47,34],[43,6,48,4],[43,7,48,5],[44,4,49,2],[44,5,49,3],[44,7,49,5],[44,8,49,6,"data"],[44,12,49,10],[44,14,49,12,"getIndex"],[44,22,49,20],[44,24,49,22,"itemHeight"],[44,34,49,32],[44,36,49,34,"offsetYAv"],[44,45,49,43],[44,47,49,45,"onValueChanging"],[44,62,49,60],[44,63,49,61],[44,64,49,62],[45,4,50,2],[45,8,50,8,"onStableValueChanged"],[45,28,50,28],[45,31,50,31],[45,35,50,31,"useStableCallback"],[45,59,50,48],[45,60,50,48,"useStableCallback"],[45,77,50,48],[45,79,50,49],[45,85,50,55],[46,6,51,4],[46,10,51,10,"activeIndex"],[46,21,51,21],[46,24,51,24,"activeIndexRef"],[46,38,51,38],[46,39,51,39,"current"],[46,46,51,46],[47,6,52,4],[47,10,52,8,"activeIndex"],[47,21,52,19],[47,26,52,24,"valueIndex"],[47,36,52,34],[47,38,52,36],[48,8,53,6,"onValueChanged"],[48,22,53,20],[48,25,53,23],[49,10,54,8,"index"],[49,15,54,13],[49,17,54,15,"activeIndex"],[49,28,54,26],[50,10,55,8,"item"],[50,14,55,12],[50,16,55,14,"data"],[50,20,55,18],[50,21,55,19,"activeIndex"],[50,32,55,30],[51,8,56,6],[51,9,56,7],[51,10,56,8],[52,6,57,4],[53,4,58,2],[53,5,58,3],[53,6,58,4],[54,4,59,2],[54,11,59,9],[55,6,60,4,"onScrollEnd"],[55,17,60,15],[55,19,60,17,"onStableValueChanged"],[55,39,60,37],[56,6,61,4,"activeIndexRef"],[57,4,62,2],[57,5,62,3],[58,2,63,0],[58,3,63,1],[59,2,64,0],[59,6,64,0,"_default"],[59,14,64,0],[59,17,64,15,"useValueEventsEffect"],[59,37,64,35],[60,0,64,36],[60,3]],"functionMap":{"names":["<global>","useValueEventsEffect","useStableCallback$argument_0","useEffect$argument_0","offsetYAv.addListener$argument_0","<anonymous>"],"mappings":"AAA;6BCI;qCCuB;MDI;YEE;qCCC;KDU;WEC;KFE;GFC;iDCC;GDQ;CDK"},"hasCjsExports":false},"type":"js/module"}]}