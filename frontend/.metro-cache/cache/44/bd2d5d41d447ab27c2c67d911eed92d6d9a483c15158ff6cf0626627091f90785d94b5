{"dependencies":[{"name":"../utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":229,"index":229},"end":{"line":1,"column":248,"index":248}}],"key":"RFGtgFE/Tu4zdfnbMKbFHDM/T4I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.trackConsole = trackConsole;\n  exports.trackUncaughtExceptions = trackUncaughtExceptions;\n  exports.trackUnhandledRejections = trackUnhandledRejections;\n  var _utils = require(_dependencyMap[0], \"../utils\");\n  function trackUnhandledRejections(tracker) {\n    var _a, _b, _c;\n    if ((0, _utils.isHermes)() && ((_a = _utils.GLOBAL_OBJ === null || _utils.GLOBAL_OBJ === void 0 ? void 0 : _utils.GLOBAL_OBJ.HermesInternal) === null || _a === void 0 ? void 0 : _a.enablePromiseRejectionTracker) && ((_c = (_b = _utils.GLOBAL_OBJ === null || _utils.GLOBAL_OBJ === void 0 ? void 0 : _utils.GLOBAL_OBJ.HermesInternal) === null || _b === void 0 ? void 0 : _b.hasPromise) === null || _c === void 0 ? void 0 : _c.call(_b))) {\n      _utils.GLOBAL_OBJ.HermesInternal.enablePromiseRejectionTracker({\n        allRejections: true,\n        onUnhandled: function onUnhandled(_, error) {\n          return tracker(error, false);\n        },\n        onHandled: function onHandled() {}\n      });\n    } else if ((0, _utils.isWeb)()) {\n      addWebUnhandledRejectionListener(tracker);\n    } else {\n      throw new Error('Promise rejection tracking is only supported on Web and Hermes runtime');\n    }\n  }\n  function trackUncaughtExceptions(tracker) {\n    var _a, _b;\n    if ((_utils.GLOBAL_OBJ === null || _utils.GLOBAL_OBJ === void 0 ? void 0 : _utils.GLOBAL_OBJ.ErrorUtils) && ((_a = _utils.GLOBAL_OBJ.ErrorUtils) === null || _a === void 0 ? void 0 : _a.setGlobalHandler) && ((_b = _utils.GLOBAL_OBJ.ErrorUtils) === null || _b === void 0 ? void 0 : _b.getGlobalHandler)) {\n      var globalHandler = ErrorUtils.getGlobalHandler();\n      ErrorUtils.setGlobalHandler(function (error, isFatal) {\n        tracker(error, isFatal !== null && isFatal !== void 0 ? isFatal : false);\n        globalHandler === null || globalHandler === void 0 ? void 0 : globalHandler(error, isFatal);\n      });\n    } else {\n      throw new Error('ErrorUtils globalHandlers are not defined');\n    }\n  }\n  function trackConsole(level, tracker) {\n    var con = console;\n    if (!con) {\n      throw new Error('console not available, cannot wrap console.error');\n    }\n    var originalMethod = con[level];\n    con[level] = function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      var message = args.join(' ');\n      var error = args.find(function (arg) {\n        return arg instanceof Error;\n      });\n      var syntheticException = new Error('Synthetic PostHog Error');\n      tracker(error !== null && error !== void 0 ? error : message, false, syntheticException);\n      return originalMethod === null || originalMethod === void 0 ? void 0 : originalMethod.apply(void 0, args);\n    };\n  }\n  function addWebUnhandledRejectionListener(tracker) {\n    var _oldUnhandledRejectionHandler = _utils.GLOBAL_OBJ.onunhandledrejection;\n    _utils.GLOBAL_OBJ.onunhandledrejection = function (event) {\n      tracker(event, false);\n      if (_oldUnhandledRejectionHandler) {\n        _oldUnhandledRejectionHandler.apply(_utils.GLOBAL_OBJ, [event]);\n      }\n    };\n  }\n});","lineCount":67,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,19],[4,9,1,20,"defineProperty"],[4,23,1,34],[4,24,1,35,"exports"],[4,31,1,42],[4,33,1,43],[4,45,1,55],[4,47,1,56],[5,4,1,57,"value"],[5,9,1,62],[5,11,1,63],[6,2,1,67],[6,3,1,68],[6,4,1,69],[7,2,1,70,"exports"],[7,9,1,77],[7,10,1,78,"trackConsole"],[7,22,1,90],[7,25,1,91,"trackConsole"],[7,37,1,103],[8,2,1,104,"exports"],[8,9,1,111],[8,10,1,112,"trackUncaughtExceptions"],[8,33,1,135],[8,36,1,136,"trackUncaughtExceptions"],[8,59,1,159],[9,2,1,160,"exports"],[9,9,1,167],[9,10,1,168,"trackUnhandledRejections"],[9,34,1,192],[9,37,1,193,"trackUnhandledRejections"],[9,61,1,217],[10,2,1,218],[10,6,1,222,"_utils"],[10,12,1,228],[10,15,1,229,"require"],[10,22,1,236],[10,23,1,236,"_dependencyMap"],[10,37,1,236],[10,52,1,247],[10,53,1,248],[11,2,1,249],[11,11,1,258,"trackUnhandledRejections"],[11,35,1,282,"trackUnhandledRejections"],[11,36,1,283,"tracker"],[11,43,1,290],[11,45,1,291],[12,4,1,292],[12,8,1,296,"_a"],[12,10,1,298],[12,12,1,299,"_b"],[12,14,1,301],[12,16,1,302,"_c"],[12,18,1,304],[13,4,1,305],[13,8,1,308],[13,9,1,309],[13,10,1,310],[13,12,1,311,"_utils"],[13,18,1,317],[13,19,1,318,"isHermes"],[13,27,1,326],[13,29,1,328],[13,30,1,329],[13,35,1,332],[13,36,1,333,"_a"],[13,38,1,335],[13,41,1,336,"_utils"],[13,47,1,342],[13,48,1,343,"GLOBAL_OBJ"],[13,58,1,353],[13,63,1,356],[13,67,1,360],[13,71,1,362,"_utils"],[13,77,1,368],[13,78,1,369,"GLOBAL_OBJ"],[13,88,1,379],[13,93,1,382],[13,98,1,387],[13,99,1,388],[13,102,1,389],[13,107,1,394],[13,108,1,395],[13,111,1,396,"_utils"],[13,117,1,402],[13,118,1,403,"GLOBAL_OBJ"],[13,128,1,413],[13,129,1,414,"HermesInternal"],[13,143,1,428],[13,149,1,432],[13,153,1,436],[13,157,1,438,"_a"],[13,159,1,440],[13,164,1,443],[13,169,1,448],[13,170,1,449],[13,173,1,450],[13,178,1,455],[13,179,1,456],[13,182,1,457,"_a"],[13,184,1,459],[13,185,1,460,"enablePromiseRejectionTracker"],[13,214,1,489],[13,215,1,490],[13,220,1,493],[13,221,1,494,"_c"],[13,223,1,496],[13,226,1,497],[13,227,1,498,"_b"],[13,229,1,500],[13,232,1,501,"_utils"],[13,238,1,507],[13,239,1,508,"GLOBAL_OBJ"],[13,249,1,518],[13,254,1,521],[13,258,1,525],[13,262,1,527,"_utils"],[13,268,1,533],[13,269,1,534,"GLOBAL_OBJ"],[13,279,1,544],[13,284,1,547],[13,289,1,552],[13,290,1,553],[13,293,1,554],[13,298,1,559],[13,299,1,560],[13,302,1,561,"_utils"],[13,308,1,567],[13,309,1,568,"GLOBAL_OBJ"],[13,319,1,578],[13,320,1,579,"HermesInternal"],[13,334,1,593],[13,340,1,597],[13,344,1,601],[13,348,1,603,"_b"],[13,350,1,605],[13,355,1,608],[13,360,1,613],[13,361,1,614],[13,364,1,615],[13,369,1,620],[13,370,1,621],[13,373,1,622,"_b"],[13,375,1,624],[13,376,1,625,"hasPromise"],[13,386,1,635],[13,392,1,639],[13,396,1,643],[13,400,1,645,"_c"],[13,402,1,647],[13,407,1,650],[13,412,1,655],[13,413,1,656],[13,416,1,657],[13,421,1,662],[13,422,1,663],[13,425,1,664,"_c"],[13,427,1,666],[13,428,1,667,"call"],[13,432,1,671],[13,433,1,672,"_b"],[13,435,1,674],[13,436,1,675],[13,437,1,676],[13,439,1,677],[14,6,1,678,"_utils"],[14,12,1,684],[14,13,1,685,"GLOBAL_OBJ"],[14,23,1,695],[14,24,1,696,"HermesInternal"],[14,38,1,710],[14,39,1,711,"enablePromiseRejectionTracker"],[14,68,1,740],[14,69,1,741],[15,8,1,742,"allRejections"],[15,21,1,755],[15,23,1,756],[15,27,1,760],[16,8,1,761,"onUnhandled"],[16,19,1,772],[16,21,1,773],[16,30,1,782,"onUnhandled"],[16,41,1,793,"onUnhandled"],[16,42,1,794,"_"],[16,43,1,795],[16,45,1,796,"error"],[16,50,1,801],[16,52,1,802],[17,10,1,803],[17,17,1,810,"tracker"],[17,24,1,817],[17,25,1,818,"error"],[17,30,1,823],[17,32,1,824],[17,37,1,829],[17,38,1,830],[18,8,1,831],[18,9,1,832],[19,8,1,833,"onHandled"],[19,17,1,842],[19,19,1,843],[19,28,1,852,"onHandled"],[19,37,1,861,"onHandled"],[19,38,1,861],[19,40,1,863],[19,41,1,864],[20,6,1,865],[20,7,1,866],[20,8,1,867],[21,4,1,868],[21,5,1,869],[21,11,1,874],[21,15,1,877],[21,16,1,878],[21,17,1,879],[21,19,1,880,"_utils"],[21,25,1,886],[21,26,1,887,"isWeb"],[21,31,1,892],[21,33,1,894],[21,34,1,895],[21,36,1,896],[22,6,1,897,"addWebUnhandledRejectionListener"],[22,38,1,929],[22,39,1,930,"tracker"],[22,46,1,937],[22,47,1,938],[23,4,1,939],[23,5,1,940],[23,11,1,944],[24,6,1,945],[24,12,1,951],[24,16,1,955,"Error"],[24,21,1,960],[24,22,1,961],[24,94,1,1033],[24,95,1,1034],[25,4,1,1035],[26,2,1,1036],[27,2,1,1037],[27,11,1,1046,"trackUncaughtExceptions"],[27,34,1,1069,"trackUncaughtExceptions"],[27,35,1,1070,"tracker"],[27,42,1,1077],[27,44,1,1078],[28,4,1,1079],[28,8,1,1083,"_a"],[28,10,1,1085],[28,12,1,1086,"_b"],[28,14,1,1088],[29,4,1,1089],[29,8,1,1092],[29,9,1,1093,"_utils"],[29,15,1,1099],[29,16,1,1100,"GLOBAL_OBJ"],[29,26,1,1110],[29,31,1,1113],[29,35,1,1117],[29,39,1,1119,"_utils"],[29,45,1,1125],[29,46,1,1126,"GLOBAL_OBJ"],[29,56,1,1136],[29,61,1,1139],[29,66,1,1144],[29,67,1,1145],[29,70,1,1146],[29,75,1,1151],[29,76,1,1152],[29,79,1,1153,"_utils"],[29,85,1,1159],[29,86,1,1160,"GLOBAL_OBJ"],[29,96,1,1170],[29,97,1,1171,"ErrorUtils"],[29,107,1,1181],[29,113,1,1185],[29,114,1,1186,"_a"],[29,116,1,1188],[29,119,1,1189,"_utils"],[29,125,1,1195],[29,126,1,1196,"GLOBAL_OBJ"],[29,136,1,1206],[29,137,1,1207,"ErrorUtils"],[29,147,1,1217],[29,153,1,1221],[29,157,1,1225],[29,161,1,1227,"_a"],[29,163,1,1229],[29,168,1,1232],[29,173,1,1237],[29,174,1,1238],[29,177,1,1239],[29,182,1,1244],[29,183,1,1245],[29,186,1,1246,"_a"],[29,188,1,1248],[29,189,1,1249,"setGlobalHandler"],[29,205,1,1265],[29,206,1,1266],[29,211,1,1269],[29,212,1,1270,"_b"],[29,214,1,1272],[29,217,1,1273,"_utils"],[29,223,1,1279],[29,224,1,1280,"GLOBAL_OBJ"],[29,234,1,1290],[29,235,1,1291,"ErrorUtils"],[29,245,1,1301],[29,251,1,1305],[29,255,1,1309],[29,259,1,1311,"_b"],[29,261,1,1313],[29,266,1,1316],[29,271,1,1321],[29,272,1,1322],[29,275,1,1323],[29,280,1,1328],[29,281,1,1329],[29,284,1,1330,"_b"],[29,286,1,1332],[29,287,1,1333,"getGlobalHandler"],[29,303,1,1349],[29,304,1,1350],[29,306,1,1351],[30,6,1,1352],[30,10,1,1356,"globalHandler"],[30,23,1,1369],[30,26,1,1370,"ErrorUtils"],[30,36,1,1380],[30,37,1,1381,"getGlobalHandler"],[30,53,1,1397],[30,54,1,1398],[30,55,1,1399],[31,6,1,1400,"ErrorUtils"],[31,16,1,1410],[31,17,1,1411,"setGlobalHandler"],[31,33,1,1427],[31,34,1,1428],[31,44,1,1437,"error"],[31,49,1,1442],[31,51,1,1443,"isFatal"],[31,58,1,1450],[31,60,1,1451],[32,8,1,1452,"tracker"],[32,15,1,1459],[32,16,1,1460,"error"],[32,21,1,1465],[32,23,1,1466,"isFatal"],[32,30,1,1473],[32,35,1,1476],[32,39,1,1480],[32,43,1,1482,"isFatal"],[32,50,1,1489],[32,55,1,1492],[32,60,1,1497],[32,61,1,1498],[32,64,1,1499,"isFatal"],[32,71,1,1506],[32,74,1,1507],[32,79,1,1512],[32,80,1,1513],[33,8,1,1514,"globalHandler"],[33,21,1,1527],[33,26,1,1530],[33,30,1,1534],[33,34,1,1536,"globalHandler"],[33,47,1,1549],[33,52,1,1552],[33,57,1,1557],[33,58,1,1558],[33,61,1,1559],[33,66,1,1564],[33,67,1,1565],[33,70,1,1566,"globalHandler"],[33,83,1,1579],[33,84,1,1580,"error"],[33,89,1,1585],[33,91,1,1586,"isFatal"],[33,98,1,1593],[33,99,1,1594],[34,6,1,1595],[34,7,1,1596],[34,8,1,1597],[35,4,1,1598],[35,5,1,1599],[35,11,1,1603],[36,6,1,1604],[36,12,1,1610],[36,16,1,1614,"Error"],[36,21,1,1619],[36,22,1,1620],[36,65,1,1663],[36,66,1,1664],[37,4,1,1665],[38,2,1,1666],[39,2,1,1667],[39,11,1,1676,"trackConsole"],[39,23,1,1688,"trackConsole"],[39,24,1,1689,"level"],[39,29,1,1694],[39,31,1,1695,"tracker"],[39,38,1,1702],[39,40,1,1703],[40,4,1,1704],[40,8,1,1708,"con"],[40,11,1,1711],[40,14,1,1712,"console"],[40,21,1,1719],[41,4,1,1720],[41,8,1,1723],[41,9,1,1724,"con"],[41,12,1,1727],[41,14,1,1728],[42,6,1,1729],[42,12,1,1735],[42,16,1,1739,"Error"],[42,21,1,1744],[42,22,1,1745],[42,72,1,1795],[42,73,1,1796],[43,4,1,1797],[44,4,1,1798],[44,8,1,1802,"originalMethod"],[44,22,1,1816],[44,25,1,1817,"con"],[44,28,1,1820],[44,29,1,1821,"level"],[44,34,1,1826],[44,35,1,1827],[45,4,1,1828,"con"],[45,7,1,1831],[45,8,1,1832,"level"],[45,13,1,1837],[45,14,1,1838],[45,17,1,1839],[45,29,1,1849],[46,6,1,1850],[46,11,1,1854],[46,15,1,1858,"_len"],[46,19,1,1862],[46,22,1,1863,"arguments"],[46,31,1,1872],[46,32,1,1873,"length"],[46,38,1,1879],[46,40,1,1880,"args"],[46,44,1,1884],[46,47,1,1885],[46,51,1,1889,"Array"],[46,56,1,1894],[46,57,1,1895,"_len"],[46,61,1,1899],[46,62,1,1900],[46,64,1,1901,"_key"],[46,68,1,1905],[46,71,1,1906],[46,72,1,1907],[46,74,1,1908,"_key"],[46,78,1,1912],[46,81,1,1913,"_len"],[46,85,1,1917],[46,87,1,1918,"_key"],[46,91,1,1922],[46,93,1,1924],[46,95,1,1925],[47,8,1,1926,"args"],[47,12,1,1930],[47,13,1,1931,"_key"],[47,17,1,1935],[47,18,1,1936],[47,21,1,1937,"arguments"],[47,30,1,1946],[47,31,1,1947,"_key"],[47,35,1,1951],[47,36,1,1952],[48,6,1,1953],[49,6,1,1954],[49,10,1,1958,"message"],[49,17,1,1965],[49,20,1,1966,"args"],[49,24,1,1970],[49,25,1,1971,"join"],[49,29,1,1975],[49,30,1,1976],[49,33,1,1979],[49,34,1,1980],[50,6,1,1981],[50,10,1,1985,"error"],[50,15,1,1990],[50,18,1,1991,"args"],[50,22,1,1995],[50,23,1,1996,"find"],[50,27,1,2000],[50,28,1,2001],[50,38,1,2010,"arg"],[50,41,1,2013],[50,43,1,2014],[51,8,1,2015],[51,15,1,2022,"arg"],[51,18,1,2025],[51,30,1,2037,"Error"],[51,35,1,2042],[52,6,1,2043],[52,7,1,2044],[52,8,1,2045],[53,6,1,2046],[53,10,1,2050,"syntheticException"],[53,28,1,2068],[53,31,1,2069],[53,35,1,2073,"Error"],[53,40,1,2078],[53,41,1,2079],[53,66,1,2104],[53,67,1,2105],[54,6,1,2106,"tracker"],[54,13,1,2113],[54,14,1,2114,"error"],[54,19,1,2119],[54,24,1,2122],[54,28,1,2126],[54,32,1,2128,"error"],[54,37,1,2133],[54,42,1,2136],[54,47,1,2141],[54,48,1,2142],[54,51,1,2143,"error"],[54,56,1,2148],[54,59,1,2149,"message"],[54,66,1,2156],[54,68,1,2157],[54,73,1,2162],[54,75,1,2163,"syntheticException"],[54,93,1,2181],[54,94,1,2182],[55,6,1,2183],[55,13,1,2190,"originalMethod"],[55,27,1,2204],[55,32,1,2207],[55,36,1,2211],[55,40,1,2213,"originalMethod"],[55,54,1,2227],[55,59,1,2230],[55,64,1,2235],[55,65,1,2236],[55,68,1,2237],[55,73,1,2242],[55,74,1,2243],[55,77,1,2244,"originalMethod"],[55,91,1,2258],[55,92,1,2259,"apply"],[55,97,1,2264],[55,98,1,2265],[55,103,1,2270],[55,104,1,2271],[55,106,1,2272,"args"],[55,110,1,2276],[55,111,1,2277],[56,4,1,2278],[56,5,1,2279],[57,2,1,2280],[58,2,1,2281],[58,11,1,2290,"addWebUnhandledRejectionListener"],[58,43,1,2322,"addWebUnhandledRejectionListener"],[58,44,1,2323,"tracker"],[58,51,1,2330],[58,53,1,2331],[59,4,1,2332],[59,8,1,2336,"_oldUnhandledRejectionHandler"],[59,37,1,2365],[59,40,1,2366,"_utils"],[59,46,1,2372],[59,47,1,2373,"GLOBAL_OBJ"],[59,57,1,2383],[59,58,1,2384,"onunhandledrejection"],[59,78,1,2404],[60,4,1,2405,"_utils"],[60,10,1,2411],[60,11,1,2412,"GLOBAL_OBJ"],[60,21,1,2422],[60,22,1,2423,"onunhandledrejection"],[60,42,1,2443],[60,45,1,2444],[60,55,1,2453,"event"],[60,60,1,2458],[60,62,1,2459],[61,6,1,2460,"tracker"],[61,13,1,2467],[61,14,1,2468,"event"],[61,19,1,2473],[61,21,1,2474],[61,26,1,2479],[61,27,1,2480],[62,6,1,2481],[62,10,1,2484,"_oldUnhandledRejectionHandler"],[62,39,1,2513],[62,41,1,2514],[63,8,1,2515,"_oldUnhandledRejectionHandler"],[63,37,1,2544],[63,38,1,2545,"apply"],[63,43,1,2550],[63,44,1,2551,"_utils"],[63,50,1,2557],[63,51,1,2558,"GLOBAL_OBJ"],[63,61,1,2568],[63,63,1,2569],[63,64,1,2570,"event"],[63,69,1,2575],[63,70,1,2576],[63,71,1,2577],[64,6,1,2578],[65,4,1,2579],[65,5,1,2580],[66,2,1,2581],[67,0,1,2582],[67,3]],"functionMap":{"names":["<global>","trackUnhandledRejections","onUnhandled","onHandled","trackUncaughtExceptions","ErrorUtils.setGlobalHandler$argument_0","trackConsole","con.level","args.find$argument_0","addWebUnhandledRejectionListener","_utils.GLOBAL_OBJ.onunhandledrejection"],"mappings":"AAA,yPC,4gBC,2DD,WE,sBF,4KG,uYC,wKD,uEE,4KC,kKC,2CD,2OD,EG,mKC,wID"},"hasCjsExports":true},"type":"js/module"}]}