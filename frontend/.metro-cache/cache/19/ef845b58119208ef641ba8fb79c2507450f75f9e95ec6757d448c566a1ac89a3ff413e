{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":13,"index":138},"end":{"line":7,"column":29,"index":154}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY=","exportNames":["*"],"imports":1}},{"name":"@rozhkov/react-useful-hooks","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":24,"index":180},"end":{"line":8,"column":62,"index":218}}],"key":"NsQg4ZHinknjzKLIjUbhohBndu8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.usePickerControlSubscriber = void 0;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactUsefulHooks = require(_dependencyMap[1], \"@rozhkov/react-useful-hooks\");\n  const useConnectSub = ({\n    control,\n    pickerName,\n    currentItem\n  }) => {\n    const [subscriber, setSubscriber] = (0, _react.useState)(null);\n    (0, _react.useEffect)(() => {\n      const sub = control._connect({\n        pickerName,\n        item: currentItem\n      });\n      setSubscriber(sub);\n      return () => {\n        sub.disconnect();\n      };\n    }, [control, pickerName]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    return subscriber;\n  };\n  const usePickerControlSubscriber = ({\n    control,\n    pickerName,\n    currentItem\n  }) => {\n    const subscriber = useConnectSub({\n      control,\n      pickerName,\n      currentItem\n    });\n    const [extraValues, setExtraValues] = (0, _react.useState)([]);\n    const [enableSyncScrollAfterScrollEnd, setEnableSyncScrollAfterScrollEnd] = (0, _react.useState)(true);\n    const onScrollStart = (0, _reactUsefulHooks.useStableCallback)(() => {\n      setEnableSyncScrollAfterScrollEnd(false);\n      subscriber === null || subscriber === void 0 || subscriber.emitOnScrollStart();\n    });\n    const onScrollEnd = (0, _reactUsefulHooks.useStableCallback)(subscriber === null || subscriber === void 0 ? void 0 : subscriber.emitOnScrollEnd);\n    const emitOnValueChanged = (0, _reactUsefulHooks.useStableCallback)(subscriber === null || subscriber === void 0 ? void 0 : subscriber.emitOnValueChanged);\n    const emitOnValueChanging = (0, _reactUsefulHooks.useStableCallback)(subscriber === null || subscriber === void 0 ? void 0 : subscriber.emitOnValueChanging);\n    (0, _react.useEffect)(() => {\n      if (!subscriber) {\n        return;\n      }\n      setExtraValues(subscriber.getExtraValues());\n      const unsubscribeNewExtraValues = subscriber.onNewExtraValues(() => {\n        setExtraValues(subscriber.getExtraValues());\n      });\n      setEnableSyncScrollAfterScrollEnd(subscriber.getEveryIsStopped());\n      const unsubscribeAllScrollEnd = subscriber.onAllScrollEnd(() => {\n        setEnableSyncScrollAfterScrollEnd(subscriber.getEveryIsStopped());\n      });\n      return () => {\n        unsubscribeNewExtraValues();\n        unsubscribeAllScrollEnd();\n      };\n    }, [subscriber]);\n    (0, _react.useEffect)(() => {\n      subscriber === null || subscriber === void 0 || subscriber.emitOnNewPropValue({\n        item: currentItem\n      });\n    }, [currentItem, subscriber]);\n    return {\n      extraValues,\n      enableSyncScrollAfterScrollEnd,\n      onScrollStart,\n      onScrollEnd,\n      emitOnValueChanged,\n      emitOnValueChanging\n    };\n  };\n  exports.usePickerControlSubscriber = usePickerControlSubscriber;\n});","lineCount":80,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"usePickerControlSubscriber"],[7,36,6,34],[7,39,6,37],[7,44,6,42],[7,45,6,43],[8,2,7,0],[8,6,7,4,"_react"],[8,12,7,10],[8,15,7,13,"require"],[8,22,7,20],[8,23,7,20,"_dependencyMap"],[8,37,7,20],[8,49,7,28],[8,50,7,29],[9,2,8,0],[9,6,8,4,"_reactUsefulHooks"],[9,23,8,21],[9,26,8,24,"require"],[9,33,8,31],[9,34,8,31,"_dependencyMap"],[9,48,8,31],[9,82,8,61],[9,83,8,62],[10,2,9,0],[10,8,9,6,"useConnectSub"],[10,21,9,19],[10,24,9,22,"useConnectSub"],[10,25,9,23],[11,4,10,2,"control"],[11,11,10,9],[12,4,11,2,"pickerName"],[12,14,11,12],[13,4,12,2,"currentItem"],[14,2,13,0],[14,3,13,1],[14,8,13,6],[15,4,14,2],[15,10,14,8],[15,11,14,9,"subscriber"],[15,21,14,19],[15,23,14,21,"setSubscriber"],[15,36,14,34],[15,37,14,35],[15,40,14,38],[15,41,14,39],[15,42,14,40],[15,44,14,42,"_react"],[15,50,14,48],[15,51,14,49,"useState"],[15,59,14,57],[15,61,14,59],[15,65,14,63],[15,66,14,64],[16,4,15,2],[16,5,15,3],[16,6,15,4],[16,8,15,6,"_react"],[16,14,15,12],[16,15,15,13,"useEffect"],[16,24,15,22],[16,26,15,24],[16,32,15,30],[17,6,16,4],[17,12,16,10,"sub"],[17,15,16,13],[17,18,16,16,"control"],[17,25,16,23],[17,26,16,24,"_connect"],[17,34,16,32],[17,35,16,33],[18,8,17,6,"pickerName"],[18,18,17,16],[19,8,18,6,"item"],[19,12,18,10],[19,14,18,12,"currentItem"],[20,6,19,4],[20,7,19,5],[20,8,19,6],[21,6,20,4,"setSubscriber"],[21,19,20,17],[21,20,20,18,"sub"],[21,23,20,21],[21,24,20,22],[22,6,21,4],[22,13,21,11],[22,19,21,17],[23,8,22,6,"sub"],[23,11,22,9],[23,12,22,10,"disconnect"],[23,22,22,20],[23,23,22,21],[23,24,22,22],[24,6,23,4],[24,7,23,5],[25,4,24,2],[25,5,24,3],[25,7,24,5],[25,8,24,6,"control"],[25,15,24,13],[25,17,24,15,"pickerName"],[25,27,24,25],[25,28,24,26],[25,29,24,27],[25,30,24,28],[25,31,24,29],[27,4,26,2],[27,11,26,9,"subscriber"],[27,21,26,19],[28,2,27,0],[28,3,27,1],[29,2,28,0],[29,8,28,6,"usePickerControlSubscriber"],[29,34,28,32],[29,37,28,35,"usePickerControlSubscriber"],[29,38,28,36],[30,4,29,2,"control"],[30,11,29,9],[31,4,30,2,"pickerName"],[31,14,30,12],[32,4,31,2,"currentItem"],[33,2,32,0],[33,3,32,1],[33,8,32,6],[34,4,33,2],[34,10,33,8,"subscriber"],[34,20,33,18],[34,23,33,21,"useConnectSub"],[34,36,33,34],[34,37,33,35],[35,6,34,4,"control"],[35,13,34,11],[36,6,35,4,"pickerName"],[36,16,35,14],[37,6,36,4,"currentItem"],[38,4,37,2],[38,5,37,3],[38,6,37,4],[39,4,38,2],[39,10,38,8],[39,11,38,9,"extraValues"],[39,22,38,20],[39,24,38,22,"setExtraValues"],[39,38,38,36],[39,39,38,37],[39,42,38,40],[39,43,38,41],[39,44,38,42],[39,46,38,44,"_react"],[39,52,38,50],[39,53,38,51,"useState"],[39,61,38,59],[39,63,38,61],[39,65,38,63],[39,66,38,64],[40,4,39,2],[40,10,39,8],[40,11,39,9,"enableSyncScrollAfterScrollEnd"],[40,41,39,39],[40,43,39,41,"setEnableSyncScrollAfterScrollEnd"],[40,76,39,74],[40,77,39,75],[40,80,39,78],[40,81,39,79],[40,82,39,80],[40,84,39,82,"_react"],[40,90,39,88],[40,91,39,89,"useState"],[40,99,39,97],[40,101,39,99],[40,105,39,103],[40,106,39,104],[41,4,40,2],[41,10,40,8,"onScrollStart"],[41,23,40,21],[41,26,40,24],[41,27,40,25],[41,28,40,26],[41,30,40,28,"_reactUsefulHooks"],[41,47,40,45],[41,48,40,46,"useStableCallback"],[41,65,40,63],[41,67,40,65],[41,73,40,71],[42,6,41,4,"setEnableSyncScrollAfterScrollEnd"],[42,39,41,37],[42,40,41,38],[42,45,41,43],[42,46,41,44],[43,6,42,4,"subscriber"],[43,16,42,14],[43,21,42,19],[43,25,42,23],[43,29,42,27,"subscriber"],[43,39,42,37],[43,44,42,42],[43,49,42,47],[43,50,42,48],[43,54,42,52,"subscriber"],[43,64,42,62],[43,65,42,63,"emitOnScrollStart"],[43,82,42,80],[43,83,42,81],[43,84,42,82],[44,4,43,2],[44,5,43,3],[44,6,43,4],[45,4,44,2],[45,10,44,8,"onScrollEnd"],[45,21,44,19],[45,24,44,22],[45,25,44,23],[45,26,44,24],[45,28,44,26,"_reactUsefulHooks"],[45,45,44,43],[45,46,44,44,"useStableCallback"],[45,63,44,61],[45,65,44,63,"subscriber"],[45,75,44,73],[45,80,44,78],[45,84,44,82],[45,88,44,86,"subscriber"],[45,98,44,96],[45,103,44,101],[45,108,44,106],[45,109,44,107],[45,112,44,110],[45,117,44,115],[45,118,44,116],[45,121,44,119,"subscriber"],[45,131,44,129],[45,132,44,130,"emitOnScrollEnd"],[45,147,44,145],[45,148,44,146],[46,4,45,2],[46,10,45,8,"emitOnValueChanged"],[46,28,45,26],[46,31,45,29],[46,32,45,30],[46,33,45,31],[46,35,45,33,"_reactUsefulHooks"],[46,52,45,50],[46,53,45,51,"useStableCallback"],[46,70,45,68],[46,72,45,70,"subscriber"],[46,82,45,80],[46,87,45,85],[46,91,45,89],[46,95,45,93,"subscriber"],[46,105,45,103],[46,110,45,108],[46,115,45,113],[46,116,45,114],[46,119,45,117],[46,124,45,122],[46,125,45,123],[46,128,45,126,"subscriber"],[46,138,45,136],[46,139,45,137,"emitOnValueChanged"],[46,157,45,155],[46,158,45,156],[47,4,46,2],[47,10,46,8,"emitOnValueChanging"],[47,29,46,27],[47,32,46,30],[47,33,46,31],[47,34,46,32],[47,36,46,34,"_reactUsefulHooks"],[47,53,46,51],[47,54,46,52,"useStableCallback"],[47,71,46,69],[47,73,46,71,"subscriber"],[47,83,46,81],[47,88,46,86],[47,92,46,90],[47,96,46,94,"subscriber"],[47,106,46,104],[47,111,46,109],[47,116,46,114],[47,117,46,115],[47,120,46,118],[47,125,46,123],[47,126,46,124],[47,129,46,127,"subscriber"],[47,139,46,137],[47,140,46,138,"emitOnValueChanging"],[47,159,46,157],[47,160,46,158],[48,4,47,2],[48,5,47,3],[48,6,47,4],[48,8,47,6,"_react"],[48,14,47,12],[48,15,47,13,"useEffect"],[48,24,47,22],[48,26,47,24],[48,32,47,30],[49,6,48,4],[49,10,48,8],[49,11,48,9,"subscriber"],[49,21,48,19],[49,23,48,21],[50,8,49,6],[51,6,50,4],[52,6,51,4,"setExtraValues"],[52,20,51,18],[52,21,51,19,"subscriber"],[52,31,51,29],[52,32,51,30,"getExtraValues"],[52,46,51,44],[52,47,51,45],[52,48,51,46],[52,49,51,47],[53,6,52,4],[53,12,52,10,"unsubscribeNewExtraValues"],[53,37,52,35],[53,40,52,38,"subscriber"],[53,50,52,48],[53,51,52,49,"onNewExtraValues"],[53,67,52,65],[53,68,52,66],[53,74,52,72],[54,8,53,6,"setExtraValues"],[54,22,53,20],[54,23,53,21,"subscriber"],[54,33,53,31],[54,34,53,32,"getExtraValues"],[54,48,53,46],[54,49,53,47],[54,50,53,48],[54,51,53,49],[55,6,54,4],[55,7,54,5],[55,8,54,6],[56,6,55,4,"setEnableSyncScrollAfterScrollEnd"],[56,39,55,37],[56,40,55,38,"subscriber"],[56,50,55,48],[56,51,55,49,"getEveryIsStopped"],[56,68,55,66],[56,69,55,67],[56,70,55,68],[56,71,55,69],[57,6,56,4],[57,12,56,10,"unsubscribeAllScrollEnd"],[57,35,56,33],[57,38,56,36,"subscriber"],[57,48,56,46],[57,49,56,47,"onAllScrollEnd"],[57,63,56,61],[57,64,56,62],[57,70,56,68],[58,8,57,6,"setEnableSyncScrollAfterScrollEnd"],[58,41,57,39],[58,42,57,40,"subscriber"],[58,52,57,50],[58,53,57,51,"getEveryIsStopped"],[58,70,57,68],[58,71,57,69],[58,72,57,70],[58,73,57,71],[59,6,58,4],[59,7,58,5],[59,8,58,6],[60,6,59,4],[60,13,59,11],[60,19,59,17],[61,8,60,6,"unsubscribeNewExtraValues"],[61,33,60,31],[61,34,60,32],[61,35,60,33],[62,8,61,6,"unsubscribeAllScrollEnd"],[62,31,61,29],[62,32,61,30],[62,33,61,31],[63,6,62,4],[63,7,62,5],[64,4,63,2],[64,5,63,3],[64,7,63,5],[64,8,63,6,"subscriber"],[64,18,63,16],[64,19,63,17],[64,20,63,18],[65,4,64,2],[65,5,64,3],[65,6,64,4],[65,8,64,6,"_react"],[65,14,64,12],[65,15,64,13,"useEffect"],[65,24,64,22],[65,26,64,24],[65,32,64,30],[66,6,65,4,"subscriber"],[66,16,65,14],[66,21,65,19],[66,25,65,23],[66,29,65,27,"subscriber"],[66,39,65,37],[66,44,65,42],[66,49,65,47],[66,50,65,48],[66,54,65,52,"subscriber"],[66,64,65,62],[66,65,65,63,"emitOnNewPropValue"],[66,83,65,81],[66,84,65,82],[67,8,66,6,"item"],[67,12,66,10],[67,14,66,12,"currentItem"],[68,6,67,4],[68,7,67,5],[68,8,67,6],[69,4,68,2],[69,5,68,3],[69,7,68,5],[69,8,68,6,"currentItem"],[69,19,68,17],[69,21,68,19,"subscriber"],[69,31,68,29],[69,32,68,30],[69,33,68,31],[70,4,69,2],[70,11,69,9],[71,6,70,4,"extraValues"],[71,17,70,15],[72,6,71,4,"enableSyncScrollAfterScrollEnd"],[72,36,71,34],[73,6,72,4,"onScrollStart"],[73,19,72,17],[74,6,73,4,"onScrollEnd"],[74,17,73,15],[75,6,74,4,"emitOnValueChanged"],[75,24,74,22],[76,6,75,4,"emitOnValueChanging"],[77,4,76,2],[77,5,76,3],[78,2,77,0],[78,3,77,1],[79,2,78,0,"exports"],[79,9,78,7],[79,10,78,8,"usePickerControlSubscriber"],[79,36,78,34],[79,39,78,37,"usePickerControlSubscriber"],[79,65,78,63],[80,0,78,64],[80,3]],"functionMap":{"names":["<global>","useConnectSub","<anonymous>","usePickerControlSubscriber","subscriber.onNewExtraValues$argument_0","subscriber.onAllScrollEnd$argument_0"],"mappings":"AAA;sBCQ;wBCM;GDS;CDG;mCGC;iEDY;GCG;wBDI;kEEK;KFE;8DGE;KHE;GCK;wBDC;GCI;CHS"},"hasCjsExports":true},"type":"js/module"}]}