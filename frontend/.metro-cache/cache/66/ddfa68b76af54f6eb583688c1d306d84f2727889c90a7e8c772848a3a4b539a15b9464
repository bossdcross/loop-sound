{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Text","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JKIzsQ5YQ0gDj0MIyY0Q7F1zJtU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":134},"end":{"line":3,"column":62,"index":196}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../../context/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":197},"end":{"line":4,"column":52,"index":249}}],"key":"KWwirfplqu3BT8BcMVVrevodMAw=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/(auth)/callback.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AuthCallback;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[2], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[3], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _reactNativeWebDistExportsText = require(_dependencyMap[4], \"react-native-web/dist/exports/Text\");\n  var Text = _interopDefault(_reactNativeWebDistExportsText);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[5], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _expoRouter = require(_dependencyMap[6], \"expo-router\");\n  var _contextAuthContext = require(_dependencyMap[7], \"../../context/AuthContext\");\n  var _reactJsxDevRuntime = require(_dependencyMap[8], \"react/jsx-dev-runtime\");\n  function AuthCallback() {\n    const router = (0, _expoRouter.useRouter)();\n    const {\n      processGoogleCallback\n    } = (0, _contextAuthContext.useAuth)();\n    const hasProcessed = (0, _react.useRef)(false);\n    (0, _react.useEffect)(() => {\n      if (hasProcessed.current) return;\n      hasProcessed.current = true;\n      const processCallback = async () => {\n        try {\n          let sessionId = null;\n          if (Platform.default.OS === 'web') {\n            // Extract session_id from URL hash\n            const hash = window.location.hash;\n            if (hash.includes('session_id=')) {\n              sessionId = hash.split('session_id=')[1]?.split('&')[0] || null;\n            }\n          }\n          if (sessionId) {\n            await processGoogleCallback(sessionId);\n            // Clear the hash from URL\n            if (Platform.default.OS === 'web') {\n              window.history.replaceState(null, '', window.location.pathname);\n            }\n            router.replace('/(tabs)/home');\n          } else {\n            // No session_id found, redirect to login\n            router.replace('/(auth)/login');\n          }\n        } catch (error) {\n          console.error('Auth callback error:', error);\n          router.replace('/(auth)/login');\n        }\n      };\n      processCallback();\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n        size: \"large\",\n        color: \"#8B5CF6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(Text.default, {\n        style: styles.text,\n        children: \"Signing you in...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this);\n  }\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      backgroundColor: '#0A0A0F',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    text: {\n      color: '#9CA3AF',\n      fontSize: 16,\n      marginTop: 16\n    }\n  });\n});","lineCount":106,"map":[[13,2,6,15,"Object"],[13,8,6,15],[13,9,6,15,"defineProperty"],[13,23,6,15],[13,24,6,15,"exports"],[13,31,6,15],[14,4,6,15,"enumerable"],[14,14,6,15],[15,4,6,15,"get"],[15,7,6,15],[15,18,6,15,"get"],[15,19,6,15],[16,6,6,15],[16,13,6,15,"AuthCallback"],[16,25,6,15],[17,4,6,15],[18,2,6,15],[19,2,1,0],[19,6,1,0,"_react"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,1,49],[20,6,1,49,"_reactNativeWebDistExportsView"],[20,36,1,49],[20,39,1,49,"require"],[20,46,1,49],[20,47,1,49,"_dependencyMap"],[20,61,1,49],[21,2,1,49],[21,6,1,49,"View"],[21,10,1,49],[21,13,1,49,"_interopDefault"],[21,28,1,49],[21,29,1,49,"_reactNativeWebDistExportsView"],[21,59,1,49],[22,2,1,49],[22,6,1,49,"_reactNativeWebDistExportsStyleSheet"],[22,42,1,49],[22,45,1,49,"require"],[22,52,1,49],[22,53,1,49,"_dependencyMap"],[22,67,1,49],[23,2,1,49],[23,6,1,49,"StyleSheet"],[23,16,1,49],[23,19,1,49,"_interopDefault"],[23,34,1,49],[23,35,1,49,"_reactNativeWebDistExportsStyleSheet"],[23,71,1,49],[24,2,1,49],[24,6,1,49,"_reactNativeWebDistExportsActivityIndicator"],[24,49,1,49],[24,52,1,49,"require"],[24,59,1,49],[24,60,1,49,"_dependencyMap"],[24,74,1,49],[25,2,1,49],[25,6,1,49,"ActivityIndicator"],[25,23,1,49],[25,26,1,49,"_interopDefault"],[25,41,1,49],[25,42,1,49,"_reactNativeWebDistExportsActivityIndicator"],[25,85,1,49],[26,2,1,49],[26,6,1,49,"_reactNativeWebDistExportsText"],[26,36,1,49],[26,39,1,49,"require"],[26,46,1,49],[26,47,1,49,"_dependencyMap"],[26,61,1,49],[27,2,1,49],[27,6,1,49,"Text"],[27,10,1,49],[27,13,1,49,"_interopDefault"],[27,28,1,49],[27,29,1,49,"_reactNativeWebDistExportsText"],[27,59,1,49],[28,2,1,49],[28,6,1,49,"_reactNativeWebDistExportsPlatform"],[28,40,1,49],[28,43,1,49,"require"],[28,50,1,49],[28,51,1,49,"_dependencyMap"],[28,65,1,49],[29,2,1,49],[29,6,1,49,"Platform"],[29,14,1,49],[29,17,1,49,"_interopDefault"],[29,32,1,49],[29,33,1,49,"_reactNativeWebDistExportsPlatform"],[29,67,1,49],[30,2,3,0],[30,6,3,0,"_expoRouter"],[30,17,3,0],[30,20,3,0,"require"],[30,27,3,0],[30,28,3,0,"_dependencyMap"],[30,42,3,0],[31,2,4,0],[31,6,4,0,"_contextAuthContext"],[31,25,4,0],[31,28,4,0,"require"],[31,35,4,0],[31,36,4,0,"_dependencyMap"],[31,50,4,0],[32,2,4,52],[32,6,4,52,"_reactJsxDevRuntime"],[32,25,4,52],[32,28,4,52,"require"],[32,35,4,52],[32,36,4,52,"_dependencyMap"],[32,50,4,52],[33,2,6,15],[33,11,6,24,"AuthCallback"],[33,23,6,36,"AuthCallback"],[33,24,6,36],[33,26,6,39],[34,4,7,2],[34,10,7,8,"router"],[34,16,7,14],[34,19,7,17],[34,23,7,17,"useRouter"],[34,34,7,26],[34,35,7,26,"useRouter"],[34,44,7,26],[34,46,7,27],[34,47,7,28],[35,4,8,2],[35,10,8,8],[36,6,8,10,"processGoogleCallback"],[37,4,8,32],[37,5,8,33],[37,8,8,36],[37,12,8,36,"useAuth"],[37,31,8,43],[37,32,8,43,"useAuth"],[37,39,8,43],[37,41,8,44],[37,42,8,45],[38,4,9,2],[38,10,9,8,"hasProcessed"],[38,22,9,20],[38,25,9,23],[38,29,9,23,"useRef"],[38,35,9,29],[38,36,9,29,"useRef"],[38,42,9,29],[38,44,9,30],[38,49,9,35],[38,50,9,36],[39,4,11,2],[39,8,11,2,"useEffect"],[39,14,11,11],[39,15,11,11,"useEffect"],[39,24,11,11],[39,26,11,12],[39,32,11,18],[40,6,12,4],[40,10,12,8,"hasProcessed"],[40,22,12,20],[40,23,12,21,"current"],[40,30,12,28],[40,32,12,30],[41,6,13,4,"hasProcessed"],[41,18,13,16],[41,19,13,17,"current"],[41,26,13,24],[41,29,13,27],[41,33,13,31],[42,6,15,4],[42,12,15,10,"processCallback"],[42,27,15,25],[42,30,15,28],[42,36,15,28,"processCallback"],[42,37,15,28],[42,42,15,40],[43,8,16,6],[43,12,16,10],[44,10,17,8],[44,14,17,12,"sessionId"],[44,23,17,36],[44,26,17,39],[44,30,17,43],[45,10,19,8],[45,14,19,12,"Platform"],[45,22,19,20],[45,23,19,20,"default"],[45,30,19,20],[45,31,19,21,"OS"],[45,33,19,23],[45,38,19,28],[45,43,19,33],[45,45,19,35],[46,12,20,10],[47,12,21,10],[47,18,21,16,"hash"],[47,22,21,20],[47,25,21,23,"window"],[47,31,21,29],[47,32,21,30,"location"],[47,40,21,38],[47,41,21,39,"hash"],[47,45,21,43],[48,12,22,10],[48,16,22,14,"hash"],[48,20,22,18],[48,21,22,19,"includes"],[48,29,22,27],[48,30,22,28],[48,43,22,41],[48,44,22,42],[48,46,22,44],[49,14,23,12,"sessionId"],[49,23,23,21],[49,26,23,24,"hash"],[49,30,23,28],[49,31,23,29,"split"],[49,36,23,34],[49,37,23,35],[49,50,23,48],[49,51,23,49],[49,52,23,50],[49,53,23,51],[49,54,23,52],[49,56,23,54,"split"],[49,61,23,59],[49,62,23,60],[49,65,23,63],[49,66,23,64],[49,67,23,65],[49,68,23,66],[49,69,23,67],[49,73,23,71],[49,77,23,75],[50,12,24,10],[51,10,25,8],[52,10,27,8],[52,14,27,12,"sessionId"],[52,23,27,21],[52,25,27,23],[53,12,28,10],[53,18,28,16,"processGoogleCallback"],[53,39,28,37],[53,40,28,38,"sessionId"],[53,49,28,47],[53,50,28,48],[54,12,29,10],[55,12,30,10],[55,16,30,14,"Platform"],[55,24,30,22],[55,25,30,22,"default"],[55,32,30,22],[55,33,30,23,"OS"],[55,35,30,25],[55,40,30,30],[55,45,30,35],[55,47,30,37],[56,14,31,12,"window"],[56,20,31,18],[56,21,31,19,"history"],[56,28,31,26],[56,29,31,27,"replaceState"],[56,41,31,39],[56,42,31,40],[56,46,31,44],[56,48,31,46],[56,50,31,48],[56,52,31,50,"window"],[56,58,31,56],[56,59,31,57,"location"],[56,67,31,65],[56,68,31,66,"pathname"],[56,76,31,74],[56,77,31,75],[57,12,32,10],[58,12,33,10,"router"],[58,18,33,16],[58,19,33,17,"replace"],[58,26,33,24],[58,27,33,25],[58,41,33,39],[58,42,33,40],[59,10,34,8],[59,11,34,9],[59,17,34,15],[60,12,35,10],[61,12,36,10,"router"],[61,18,36,16],[61,19,36,17,"replace"],[61,26,36,24],[61,27,36,25],[61,42,36,40],[61,43,36,41],[62,10,37,8],[63,8,38,6],[63,9,38,7],[63,10,38,8],[63,17,38,15,"error"],[63,22,38,20],[63,24,38,22],[64,10,39,8,"console"],[64,17,39,15],[64,18,39,16,"error"],[64,23,39,21],[64,24,39,22],[64,46,39,44],[64,48,39,46,"error"],[64,53,39,51],[64,54,39,52],[65,10,40,8,"router"],[65,16,40,14],[65,17,40,15,"replace"],[65,24,40,22],[65,25,40,23],[65,40,40,38],[65,41,40,39],[66,8,41,6],[67,6,42,4],[67,7,42,5],[68,6,44,4,"processCallback"],[68,21,44,19],[68,22,44,20],[68,23,44,21],[69,4,45,2],[69,5,45,3],[69,7,45,5],[69,9,45,7],[69,10,45,8],[70,4,47,2],[70,24,48,4],[70,28,48,4,"_reactJsxDevRuntime"],[70,47,48,4],[70,48,48,4,"jsxDEV"],[70,54,48,4],[70,56,48,5,"View"],[70,60,48,9],[70,61,48,9,"default"],[70,68,48,9],[71,6,48,10,"style"],[71,11,48,15],[71,13,48,17,"styles"],[71,19,48,23],[71,20,48,24,"container"],[71,29,48,34],[72,6,48,34,"children"],[72,14,48,34],[72,30,49,6],[72,34,49,6,"_reactJsxDevRuntime"],[72,53,49,6],[72,54,49,6,"jsxDEV"],[72,60,49,6],[72,62,49,7,"ActivityIndicator"],[72,79,49,24],[72,80,49,24,"default"],[72,87,49,24],[73,8,49,25,"size"],[73,12,49,29],[73,14,49,30],[73,21,49,37],[74,8,49,38,"color"],[74,13,49,43],[74,15,49,44],[75,6,49,53],[76,8,49,53,"fileName"],[76,16,49,53],[76,18,49,53,"_jsxFileName"],[76,30,49,53],[77,8,49,53,"lineNumber"],[77,18,49,53],[78,8,49,53,"columnNumber"],[78,20,49,53],[79,6,49,53],[79,13,49,55],[79,14,49,56],[79,29,50,6],[79,33,50,6,"_reactJsxDevRuntime"],[79,52,50,6],[79,53,50,6,"jsxDEV"],[79,59,50,6],[79,61,50,7,"Text"],[79,65,50,11],[79,66,50,11,"default"],[79,73,50,11],[80,8,50,12,"style"],[80,13,50,17],[80,15,50,19,"styles"],[80,21,50,25],[80,22,50,26,"text"],[80,26,50,31],[81,8,50,31,"children"],[81,16,50,31],[81,18,50,32],[82,6,50,49],[83,8,50,49,"fileName"],[83,16,50,49],[83,18,50,49,"_jsxFileName"],[83,30,50,49],[84,8,50,49,"lineNumber"],[84,18,50,49],[85,8,50,49,"columnNumber"],[85,20,50,49],[86,6,50,49],[86,13,50,55],[86,14,50,56],[87,4,50,56],[88,6,50,56,"fileName"],[88,14,50,56],[88,16,50,56,"_jsxFileName"],[88,28,50,56],[89,6,50,56,"lineNumber"],[89,16,50,56],[90,6,50,56,"columnNumber"],[90,18,50,56],[91,4,50,56],[91,11,51,10],[91,12,51,11],[92,2,53,0],[93,2,55,0],[93,8,55,6,"styles"],[93,14,55,12],[93,17,55,15,"StyleSheet"],[93,27,55,25],[93,28,55,25,"default"],[93,35,55,25],[93,36,55,26,"create"],[93,42,55,32],[93,43,55,33],[94,4,56,2,"container"],[94,13,56,11],[94,15,56,13],[95,6,57,4,"flex"],[95,10,57,8],[95,12,57,10],[95,13,57,11],[96,6,58,4,"backgroundColor"],[96,21,58,19],[96,23,58,21],[96,32,58,30],[97,6,59,4,"alignItems"],[97,16,59,14],[97,18,59,16],[97,26,59,24],[98,6,60,4,"justifyContent"],[98,20,60,18],[98,22,60,20],[99,4,61,2],[99,5,61,3],[100,4,62,2,"text"],[100,8,62,6],[100,10,62,8],[101,6,63,4,"color"],[101,11,63,9],[101,13,63,11],[101,22,63,20],[102,6,64,4,"fontSize"],[102,14,64,12],[102,16,64,14],[102,18,64,16],[103,6,65,4,"marginTop"],[103,15,65,13],[103,17,65,15],[104,4,66,2],[105,2,67,0],[105,3,67,1],[105,4,67,2],[106,0,67,3],[106,3]],"functionMap":{"names":["<global>","AuthCallback","useEffect$argument_0","processCallback"],"mappings":"AAA;eCK;YCK;4BCI;KD2B;GDG;CDQ"},"hasCjsExports":false},"type":"js/module"}]}