{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Text","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JKIzsQ5YQ0gDj0MIyY0Q7F1zJtU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":134},"end":{"line":3,"column":62,"index":196}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../../context/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":197},"end":{"line":4,"column":52,"index":249}}],"key":"KWwirfplqu3BT8BcMVVrevodMAw=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/(auth)/callback.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AuthCallback;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[2], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[3], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _reactNativeWebDistExportsText = require(_dependencyMap[4], \"react-native-web/dist/exports/Text\");\n  var Text = _interopDefault(_reactNativeWebDistExportsText);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[5], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _expoRouter = require(_dependencyMap[6], \"expo-router\");\n  var _contextAuthContext = require(_dependencyMap[7], \"../../context/AuthContext\");\n  var _reactJsxDevRuntime = require(_dependencyMap[8], \"react/jsx-dev-runtime\");\n  function AuthCallback() {\n    _s();\n    const router = (0, _expoRouter.useRouter)();\n    const {\n      processGoogleCallback\n    } = (0, _contextAuthContext.useAuth)();\n    const hasProcessed = (0, _react.useRef)(false);\n    (0, _react.useEffect)(() => {\n      if (hasProcessed.current) return;\n      hasProcessed.current = true;\n      const processCallback = async () => {\n        try {\n          let sessionId = null;\n          if (Platform.default.OS === 'web') {\n            // Extract session_id from URL hash\n            const hash = window.location.hash;\n            if (hash.includes('session_id=')) {\n              sessionId = hash.split('session_id=')[1]?.split('&')[0] || null;\n            }\n          }\n          if (sessionId) {\n            await processGoogleCallback(sessionId);\n            // Clear the hash from URL\n            if (Platform.default.OS === 'web') {\n              window.history.replaceState(null, '', window.location.pathname);\n            }\n            router.replace('/(tabs)/home');\n          } else {\n            // No session_id found, redirect to login\n            router.replace('/(auth)/login');\n          }\n        } catch (error) {\n          console.error('Auth callback error:', error);\n          router.replace('/(auth)/login');\n        }\n      };\n      processCallback();\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n        size: \"large\",\n        color: \"#8B5CF6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(Text.default, {\n        style: styles.text,\n        children: \"Signing you in...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthCallback, \"NHBSp5vbdVnniL9oGXbLr4IPizc=\", false, function () {\n    return [_expoRouter.useRouter, _contextAuthContext.useAuth];\n  });\n  _c = AuthCallback;\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      backgroundColor: '#0A0A0F',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    text: {\n      color: '#9CA3AF',\n      fontSize: 16,\n      marginTop: 16\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"AuthCallback\");\n});","lineCount":114,"map":[[14,2,6,15,"Object"],[14,8,6,15],[14,9,6,15,"defineProperty"],[14,23,6,15],[14,24,6,15,"exports"],[14,31,6,15],[15,4,6,15,"enumerable"],[15,14,6,15],[16,4,6,15,"get"],[16,7,6,15],[16,18,6,15,"get"],[16,19,6,15],[17,6,6,15],[17,13,6,15,"AuthCallback"],[17,25,6,15],[18,4,6,15],[19,2,6,15],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,1,49],[21,6,1,49,"_reactNativeWebDistExportsView"],[21,36,1,49],[21,39,1,49,"require"],[21,46,1,49],[21,47,1,49,"_dependencyMap"],[21,61,1,49],[22,2,1,49],[22,6,1,49,"View"],[22,10,1,49],[22,13,1,49,"_interopDefault"],[22,28,1,49],[22,29,1,49,"_reactNativeWebDistExportsView"],[22,59,1,49],[23,2,1,49],[23,6,1,49,"_reactNativeWebDistExportsStyleSheet"],[23,42,1,49],[23,45,1,49,"require"],[23,52,1,49],[23,53,1,49,"_dependencyMap"],[23,67,1,49],[24,2,1,49],[24,6,1,49,"StyleSheet"],[24,16,1,49],[24,19,1,49,"_interopDefault"],[24,34,1,49],[24,35,1,49,"_reactNativeWebDistExportsStyleSheet"],[24,71,1,49],[25,2,1,49],[25,6,1,49,"_reactNativeWebDistExportsActivityIndicator"],[25,49,1,49],[25,52,1,49,"require"],[25,59,1,49],[25,60,1,49,"_dependencyMap"],[25,74,1,49],[26,2,1,49],[26,6,1,49,"ActivityIndicator"],[26,23,1,49],[26,26,1,49,"_interopDefault"],[26,41,1,49],[26,42,1,49,"_reactNativeWebDistExportsActivityIndicator"],[26,85,1,49],[27,2,1,49],[27,6,1,49,"_reactNativeWebDistExportsText"],[27,36,1,49],[27,39,1,49,"require"],[27,46,1,49],[27,47,1,49,"_dependencyMap"],[27,61,1,49],[28,2,1,49],[28,6,1,49,"Text"],[28,10,1,49],[28,13,1,49,"_interopDefault"],[28,28,1,49],[28,29,1,49,"_reactNativeWebDistExportsText"],[28,59,1,49],[29,2,1,49],[29,6,1,49,"_reactNativeWebDistExportsPlatform"],[29,40,1,49],[29,43,1,49,"require"],[29,50,1,49],[29,51,1,49,"_dependencyMap"],[29,65,1,49],[30,2,1,49],[30,6,1,49,"Platform"],[30,14,1,49],[30,17,1,49,"_interopDefault"],[30,32,1,49],[30,33,1,49,"_reactNativeWebDistExportsPlatform"],[30,67,1,49],[31,2,3,0],[31,6,3,0,"_expoRouter"],[31,17,3,0],[31,20,3,0,"require"],[31,27,3,0],[31,28,3,0,"_dependencyMap"],[31,42,3,0],[32,2,4,0],[32,6,4,0,"_contextAuthContext"],[32,25,4,0],[32,28,4,0,"require"],[32,35,4,0],[32,36,4,0,"_dependencyMap"],[32,50,4,0],[33,2,4,52],[33,6,4,52,"_reactJsxDevRuntime"],[33,25,4,52],[33,28,4,52,"require"],[33,35,4,52],[33,36,4,52,"_dependencyMap"],[33,50,4,52],[34,2,6,15],[34,11,6,24,"AuthCallback"],[34,23,6,36,"AuthCallback"],[34,24,6,36],[34,26,6,39],[35,4,6,39,"_s"],[35,6,6,39],[36,4,7,2],[36,10,7,8,"router"],[36,16,7,14],[36,19,7,17],[36,23,7,17,"useRouter"],[36,34,7,26],[36,35,7,26,"useRouter"],[36,44,7,26],[36,46,7,27],[36,47,7,28],[37,4,8,2],[37,10,8,8],[38,6,8,10,"processGoogleCallback"],[39,4,8,32],[39,5,8,33],[39,8,8,36],[39,12,8,36,"useAuth"],[39,31,8,43],[39,32,8,43,"useAuth"],[39,39,8,43],[39,41,8,44],[39,42,8,45],[40,4,9,2],[40,10,9,8,"hasProcessed"],[40,22,9,20],[40,25,9,23],[40,29,9,23,"useRef"],[40,35,9,29],[40,36,9,29,"useRef"],[40,42,9,29],[40,44,9,30],[40,49,9,35],[40,50,9,36],[41,4,11,2],[41,8,11,2,"useEffect"],[41,14,11,11],[41,15,11,11,"useEffect"],[41,24,11,11],[41,26,11,12],[41,32,11,18],[42,6,12,4],[42,10,12,8,"hasProcessed"],[42,22,12,20],[42,23,12,21,"current"],[42,30,12,28],[42,32,12,30],[43,6,13,4,"hasProcessed"],[43,18,13,16],[43,19,13,17,"current"],[43,26,13,24],[43,29,13,27],[43,33,13,31],[44,6,15,4],[44,12,15,10,"processCallback"],[44,27,15,25],[44,30,15,28],[44,36,15,28,"processCallback"],[44,37,15,28],[44,42,15,40],[45,8,16,6],[45,12,16,10],[46,10,17,8],[46,14,17,12,"sessionId"],[46,23,17,36],[46,26,17,39],[46,30,17,43],[47,10,19,8],[47,14,19,12,"Platform"],[47,22,19,20],[47,23,19,20,"default"],[47,30,19,20],[47,31,19,21,"OS"],[47,33,19,23],[47,38,19,28],[47,43,19,33],[47,45,19,35],[48,12,20,10],[49,12,21,10],[49,18,21,16,"hash"],[49,22,21,20],[49,25,21,23,"window"],[49,31,21,29],[49,32,21,30,"location"],[49,40,21,38],[49,41,21,39,"hash"],[49,45,21,43],[50,12,22,10],[50,16,22,14,"hash"],[50,20,22,18],[50,21,22,19,"includes"],[50,29,22,27],[50,30,22,28],[50,43,22,41],[50,44,22,42],[50,46,22,44],[51,14,23,12,"sessionId"],[51,23,23,21],[51,26,23,24,"hash"],[51,30,23,28],[51,31,23,29,"split"],[51,36,23,34],[51,37,23,35],[51,50,23,48],[51,51,23,49],[51,52,23,50],[51,53,23,51],[51,54,23,52],[51,56,23,54,"split"],[51,61,23,59],[51,62,23,60],[51,65,23,63],[51,66,23,64],[51,67,23,65],[51,68,23,66],[51,69,23,67],[51,73,23,71],[51,77,23,75],[52,12,24,10],[53,10,25,8],[54,10,27,8],[54,14,27,12,"sessionId"],[54,23,27,21],[54,25,27,23],[55,12,28,10],[55,18,28,16,"processGoogleCallback"],[55,39,28,37],[55,40,28,38,"sessionId"],[55,49,28,47],[55,50,28,48],[56,12,29,10],[57,12,30,10],[57,16,30,14,"Platform"],[57,24,30,22],[57,25,30,22,"default"],[57,32,30,22],[57,33,30,23,"OS"],[57,35,30,25],[57,40,30,30],[57,45,30,35],[57,47,30,37],[58,14,31,12,"window"],[58,20,31,18],[58,21,31,19,"history"],[58,28,31,26],[58,29,31,27,"replaceState"],[58,41,31,39],[58,42,31,40],[58,46,31,44],[58,48,31,46],[58,50,31,48],[58,52,31,50,"window"],[58,58,31,56],[58,59,31,57,"location"],[58,67,31,65],[58,68,31,66,"pathname"],[58,76,31,74],[58,77,31,75],[59,12,32,10],[60,12,33,10,"router"],[60,18,33,16],[60,19,33,17,"replace"],[60,26,33,24],[60,27,33,25],[60,41,33,39],[60,42,33,40],[61,10,34,8],[61,11,34,9],[61,17,34,15],[62,12,35,10],[63,12,36,10,"router"],[63,18,36,16],[63,19,36,17,"replace"],[63,26,36,24],[63,27,36,25],[63,42,36,40],[63,43,36,41],[64,10,37,8],[65,8,38,6],[65,9,38,7],[65,10,38,8],[65,17,38,15,"error"],[65,22,38,20],[65,24,38,22],[66,10,39,8,"console"],[66,17,39,15],[66,18,39,16,"error"],[66,23,39,21],[66,24,39,22],[66,46,39,44],[66,48,39,46,"error"],[66,53,39,51],[66,54,39,52],[67,10,40,8,"router"],[67,16,40,14],[67,17,40,15,"replace"],[67,24,40,22],[67,25,40,23],[67,40,40,38],[67,41,40,39],[68,8,41,6],[69,6,42,4],[69,7,42,5],[70,6,44,4,"processCallback"],[70,21,44,19],[70,22,44,20],[70,23,44,21],[71,4,45,2],[71,5,45,3],[71,7,45,5],[71,9,45,7],[71,10,45,8],[72,4,47,2],[72,24,48,4],[72,28,48,4,"_reactJsxDevRuntime"],[72,47,48,4],[72,48,48,4,"jsxDEV"],[72,54,48,4],[72,56,48,5,"View"],[72,60,48,9],[72,61,48,9,"default"],[72,68,48,9],[73,6,48,10,"style"],[73,11,48,15],[73,13,48,17,"styles"],[73,19,48,23],[73,20,48,24,"container"],[73,29,48,34],[74,6,48,34,"children"],[74,14,48,34],[74,30,49,6],[74,34,49,6,"_reactJsxDevRuntime"],[74,53,49,6],[74,54,49,6,"jsxDEV"],[74,60,49,6],[74,62,49,7,"ActivityIndicator"],[74,79,49,24],[74,80,49,24,"default"],[74,87,49,24],[75,8,49,25,"size"],[75,12,49,29],[75,14,49,30],[75,21,49,37],[76,8,49,38,"color"],[76,13,49,43],[76,15,49,44],[77,6,49,53],[78,8,49,53,"fileName"],[78,16,49,53],[78,18,49,53,"_jsxFileName"],[78,30,49,53],[79,8,49,53,"lineNumber"],[79,18,49,53],[80,8,49,53,"columnNumber"],[80,20,49,53],[81,6,49,53],[81,13,49,55],[81,14,49,56],[81,29,50,6],[81,33,50,6,"_reactJsxDevRuntime"],[81,52,50,6],[81,53,50,6,"jsxDEV"],[81,59,50,6],[81,61,50,7,"Text"],[81,65,50,11],[81,66,50,11,"default"],[81,73,50,11],[82,8,50,12,"style"],[82,13,50,17],[82,15,50,19,"styles"],[82,21,50,25],[82,22,50,26,"text"],[82,26,50,31],[83,8,50,31,"children"],[83,16,50,31],[83,18,50,32],[84,6,50,49],[85,8,50,49,"fileName"],[85,16,50,49],[85,18,50,49,"_jsxFileName"],[85,30,50,49],[86,8,50,49,"lineNumber"],[86,18,50,49],[87,8,50,49,"columnNumber"],[87,20,50,49],[88,6,50,49],[88,13,50,55],[88,14,50,56],[89,4,50,56],[90,6,50,56,"fileName"],[90,14,50,56],[90,16,50,56,"_jsxFileName"],[90,28,50,56],[91,6,50,56,"lineNumber"],[91,16,50,56],[92,6,50,56,"columnNumber"],[92,18,50,56],[93,4,50,56],[93,11,51,10],[93,12,51,11],[94,2,53,0],[95,2,53,1,"_s"],[95,4,53,1],[95,5,6,24,"AuthCallback"],[95,17,6,36],[96,4,6,36],[96,12,7,17,"useRouter"],[96,23,7,26],[96,24,7,26,"useRouter"],[96,33,7,26],[96,35,8,36,"useAuth"],[96,54,8,43],[96,55,8,43,"useAuth"],[96,62,8,43],[97,2,8,43],[98,2,8,43,"_c"],[98,4,8,43],[98,7,6,24,"AuthCallback"],[98,19,6,36],[99,2,55,0],[99,8,55,6,"styles"],[99,14,55,12],[99,17,55,15,"StyleSheet"],[99,27,55,25],[99,28,55,25,"default"],[99,35,55,25],[99,36,55,26,"create"],[99,42,55,32],[99,43,55,33],[100,4,56,2,"container"],[100,13,56,11],[100,15,56,13],[101,6,57,4,"flex"],[101,10,57,8],[101,12,57,10],[101,13,57,11],[102,6,58,4,"backgroundColor"],[102,21,58,19],[102,23,58,21],[102,32,58,30],[103,6,59,4,"alignItems"],[103,16,59,14],[103,18,59,16],[103,26,59,24],[104,6,60,4,"justifyContent"],[104,20,60,18],[104,22,60,20],[105,4,61,2],[105,5,61,3],[106,4,62,2,"text"],[106,8,62,6],[106,10,62,8],[107,6,63,4,"color"],[107,11,63,9],[107,13,63,11],[107,22,63,20],[108,6,64,4,"fontSize"],[108,14,64,12],[108,16,64,14],[108,18,64,16],[109,6,65,4,"marginTop"],[109,15,65,13],[109,17,65,15],[110,4,66,2],[111,2,67,0],[111,3,67,1],[111,4,67,2],[112,2,67,3],[112,6,67,3,"_c"],[112,8,67,3],[113,2,67,3,"$RefreshReg$"],[113,14,67,3],[113,15,67,3,"_c"],[113,17,67,3],[114,0,67,3],[114,3]],"functionMap":{"names":["<global>","AuthCallback","useEffect$argument_0","processCallback"],"mappings":"AAA;eCK;YCK;4BCI;KD2B;GDG;CDQ"},"hasCjsExports":false},"type":"js/module"}]}