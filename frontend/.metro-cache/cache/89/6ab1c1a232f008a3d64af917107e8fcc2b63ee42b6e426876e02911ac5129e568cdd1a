{"dependencies":[{"name":"../../utils/math","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":12,"index":149},"end":{"line":7,"column":39,"index":176}}],"key":"G9BKwC/sP0ysL0YgTeOtRfxZ6Uo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.createFaces = exports.calcPickerHeight = void 0;\n  var _math = require(_dependencyMap[0], \"../../utils/math\");\n  /**\n   * Calculates the height of the element after rotating it relative to the user's screen.\n   * @param degree - the angle relative to the screen plane.\n   * @param itemHeight - original height\n   */\n  const calcHeight = (degree, itemHeight) => itemHeight * Math.cos((0, _math.degToRad)(degree));\n  const calcPickerHeight = (faces, itemHeight) => {\n    // TODO left for backward compatibility, it must be removed after updating the major version.\n    if (faces.length === 7) {\n      return itemHeight * 5;\n    }\n    return faces.reduce((r, v) => r + calcHeight(Math.abs(v.deg), itemHeight), 0);\n  };\n  exports.calcPickerHeight = calcPickerHeight;\n  const createFaces = (itemHeight, visibleCount) => {\n    if (__DEV__) {\n      if (visibleCount < 1 || visibleCount % 2 === 0) {\n        throw new Error(`WheelPicker cannot display the number of visible items \"${visibleCount}\".` + ` The value must be greater than 0 and be an odd number. E.g 1, 3, 5, 7...`);\n      }\n    }\n\n    // e.g [30, 60, 90]\n    const getDegreesRelativeCenter = () => {\n      const maxStep = Math.trunc((visibleCount + 2) / 2); // + 2 because there are 2 more faces at 90 degrees\n      const stepDegree = 90 / maxStep;\n      const result = [];\n      for (let i = 1; i <= maxStep; i++) {\n        result.push(i * stepDegree);\n      }\n      return result;\n    };\n    const getScreenHeightsAndOffsets = degrees => {\n      const screenHeights = degrees.map(deg => calcHeight(deg, itemHeight));\n      const freeSpaces = screenHeights.map(screenHeight => itemHeight - screenHeight);\n      const offsets = freeSpaces.map((freeSpace, index) => {\n        let offset = freeSpace / 2;\n        for (let i = 0; i < index; i++) {\n          offset += freeSpaces[i];\n        }\n        return offset;\n      });\n      return [screenHeights, offsets];\n    };\n    const getOpacity = index => {\n      const map = {\n        0: 0,\n        1: 0.2,\n        2: 0.35,\n        3: 0.45,\n        4: 0.5\n      };\n      return map[index] ?? Math.min(1, map[4] + index * 0.5);\n    };\n    const degrees = getDegreesRelativeCenter();\n    const [screenHeight, offsets] = getScreenHeightsAndOffsets(degrees);\n    return [\n    // top items\n    ...degrees.map((degree, index) => {\n      return {\n        index: -1 * (index + 1),\n        deg: degree,\n        opacity: getOpacity(degrees.length - 1 - index),\n        offsetY: -1 * offsets[index],\n        screenHeight: screenHeight[index]\n      };\n    }).reverse(),\n    // center item\n    {\n      index: 0,\n      deg: 0,\n      opacity: 1,\n      offsetY: 0,\n      screenHeight: itemHeight\n    },\n    // bottom items\n    ...degrees.map((degree, index) => {\n      return {\n        index: index + 1,\n        deg: -1 * degree,\n        opacity: getOpacity(degrees.length - 1 - index),\n        offsetY: offsets[index],\n        screenHeight: screenHeight[index]\n      };\n    })];\n  };\n  exports.createFaces = createFaces;\n});","lineCount":95,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"createFaces"],[7,21,6,19],[7,24,6,22,"exports"],[7,31,6,29],[7,32,6,30,"calcPickerHeight"],[7,48,6,46],[7,51,6,49],[7,56,6,54],[7,57,6,55],[8,2,7,0],[8,6,7,4,"_math"],[8,11,7,9],[8,14,7,12,"require"],[8,21,7,19],[8,22,7,19,"_dependencyMap"],[8,36,7,19],[8,59,7,38],[8,60,7,39],[9,2,8,0],[10,0,9,0],[11,0,10,0],[12,0,11,0],[13,0,12,0],[14,2,13,0],[14,8,13,6,"calcHeight"],[14,18,13,16],[14,21,13,19,"calcHeight"],[14,22,13,20,"degree"],[14,28,13,26],[14,30,13,28,"itemHeight"],[14,40,13,38],[14,45,13,43,"itemHeight"],[14,55,13,53],[14,58,13,56,"Math"],[14,62,13,60],[14,63,13,61,"cos"],[14,66,13,64],[14,67,13,65],[14,68,13,66],[14,69,13,67],[14,71,13,69,"_math"],[14,76,13,74],[14,77,13,75,"degToRad"],[14,85,13,83],[14,87,13,85,"degree"],[14,93,13,91],[14,94,13,92],[14,95,13,93],[15,2,14,0],[15,8,14,6,"calcPickerHeight"],[15,24,14,22],[15,27,14,25,"calcPickerHeight"],[15,28,14,26,"faces"],[15,33,14,31],[15,35,14,33,"itemHeight"],[15,45,14,43],[15,50,14,48],[16,4,15,2],[17,4,16,2],[17,8,16,6,"faces"],[17,13,16,11],[17,14,16,12,"length"],[17,20,16,18],[17,25,16,23],[17,26,16,24],[17,28,16,26],[18,6,17,4],[18,13,17,11,"itemHeight"],[18,23,17,21],[18,26,17,24],[18,27,17,25],[19,4,18,2],[20,4,19,2],[20,11,19,9,"faces"],[20,16,19,14],[20,17,19,15,"reduce"],[20,23,19,21],[20,24,19,22],[20,25,19,23,"r"],[20,26,19,24],[20,28,19,26,"v"],[20,29,19,27],[20,34,19,32,"r"],[20,35,19,33],[20,38,19,36,"calcHeight"],[20,48,19,46],[20,49,19,47,"Math"],[20,53,19,51],[20,54,19,52,"abs"],[20,57,19,55],[20,58,19,56,"v"],[20,59,19,57],[20,60,19,58,"deg"],[20,63,19,61],[20,64,19,62],[20,66,19,64,"itemHeight"],[20,76,19,74],[20,77,19,75],[20,79,19,77],[20,80,19,78],[20,81,19,79],[21,2,20,0],[21,3,20,1],[22,2,21,0,"exports"],[22,9,21,7],[22,10,21,8,"calcPickerHeight"],[22,26,21,24],[22,29,21,27,"calcPickerHeight"],[22,45,21,43],[23,2,22,0],[23,8,22,6,"createFaces"],[23,19,22,17],[23,22,22,20,"createFaces"],[23,23,22,21,"itemHeight"],[23,33,22,31],[23,35,22,33,"visibleCount"],[23,47,22,45],[23,52,22,50],[24,4,23,2],[24,8,23,6,"__DEV__"],[24,15,23,13],[24,17,23,15],[25,6,24,4],[25,10,24,8,"visibleCount"],[25,22,24,20],[25,25,24,23],[25,26,24,24],[25,30,24,28,"visibleCount"],[25,42,24,40],[25,45,24,43],[25,46,24,44],[25,51,24,49],[25,52,24,50],[25,54,24,52],[26,8,25,6],[26,14,25,12],[26,18,25,16,"Error"],[26,23,25,21],[26,24,25,22],[26,83,25,81,"visibleCount"],[26,95,25,93],[26,99,25,97],[26,102,25,100],[26,177,25,175],[26,178,25,176],[27,6,26,4],[28,4,27,2],[30,4,29,2],[31,4,30,2],[31,10,30,8,"getDegreesRelativeCenter"],[31,34,30,32],[31,37,30,35,"getDegreesRelativeCenter"],[31,38,30,35],[31,43,30,41],[32,6,31,4],[32,12,31,10,"maxStep"],[32,19,31,17],[32,22,31,20,"Math"],[32,26,31,24],[32,27,31,25,"trunc"],[32,32,31,30],[32,33,31,31],[32,34,31,32,"visibleCount"],[32,46,31,44],[32,49,31,47],[32,50,31,48],[32,54,31,52],[32,55,31,53],[32,56,31,54],[32,57,31,55],[32,58,31,56],[33,6,32,4],[33,12,32,10,"stepDegree"],[33,22,32,20],[33,25,32,23],[33,27,32,25],[33,30,32,28,"maxStep"],[33,37,32,35],[34,6,33,4],[34,12,33,10,"result"],[34,18,33,16],[34,21,33,19],[34,23,33,21],[35,6,34,4],[35,11,34,9],[35,15,34,13,"i"],[35,16,34,14],[35,19,34,17],[35,20,34,18],[35,22,34,20,"i"],[35,23,34,21],[35,27,34,25,"maxStep"],[35,34,34,32],[35,36,34,34,"i"],[35,37,34,35],[35,39,34,37],[35,41,34,39],[36,8,35,6,"result"],[36,14,35,12],[36,15,35,13,"push"],[36,19,35,17],[36,20,35,18,"i"],[36,21,35,19],[36,24,35,22,"stepDegree"],[36,34,35,32],[36,35,35,33],[37,6,36,4],[38,6,37,4],[38,13,37,11,"result"],[38,19,37,17],[39,4,38,2],[39,5,38,3],[40,4,39,2],[40,10,39,8,"getScreenHeightsAndOffsets"],[40,36,39,34],[40,39,39,37,"degrees"],[40,46,39,44],[40,50,39,48],[41,6,40,4],[41,12,40,10,"screenHeights"],[41,25,40,23],[41,28,40,26,"degrees"],[41,35,40,33],[41,36,40,34,"map"],[41,39,40,37],[41,40,40,38,"deg"],[41,43,40,41],[41,47,40,45,"calcHeight"],[41,57,40,55],[41,58,40,56,"deg"],[41,61,40,59],[41,63,40,61,"itemHeight"],[41,73,40,71],[41,74,40,72],[41,75,40,73],[42,6,41,4],[42,12,41,10,"freeSpaces"],[42,22,41,20],[42,25,41,23,"screenHeights"],[42,38,41,36],[42,39,41,37,"map"],[42,42,41,40],[42,43,41,41,"screenHeight"],[42,55,41,53],[42,59,41,57,"itemHeight"],[42,69,41,67],[42,72,41,70,"screenHeight"],[42,84,41,82],[42,85,41,83],[43,6,42,4],[43,12,42,10,"offsets"],[43,19,42,17],[43,22,42,20,"freeSpaces"],[43,32,42,30],[43,33,42,31,"map"],[43,36,42,34],[43,37,42,35],[43,38,42,36,"freeSpace"],[43,47,42,45],[43,49,42,47,"index"],[43,54,42,52],[43,59,42,57],[44,8,43,6],[44,12,43,10,"offset"],[44,18,43,16],[44,21,43,19,"freeSpace"],[44,30,43,28],[44,33,43,31],[44,34,43,32],[45,8,44,6],[45,13,44,11],[45,17,44,15,"i"],[45,18,44,16],[45,21,44,19],[45,22,44,20],[45,24,44,22,"i"],[45,25,44,23],[45,28,44,26,"index"],[45,33,44,31],[45,35,44,33,"i"],[45,36,44,34],[45,38,44,36],[45,40,44,38],[46,10,45,8,"offset"],[46,16,45,14],[46,20,45,18,"freeSpaces"],[46,30,45,28],[46,31,45,29,"i"],[46,32,45,30],[46,33,45,31],[47,8,46,6],[48,8,47,6],[48,15,47,13,"offset"],[48,21,47,19],[49,6,48,4],[49,7,48,5],[49,8,48,6],[50,6,49,4],[50,13,49,11],[50,14,49,12,"screenHeights"],[50,27,49,25],[50,29,49,27,"offsets"],[50,36,49,34],[50,37,49,35],[51,4,50,2],[51,5,50,3],[52,4,51,2],[52,10,51,8,"getOpacity"],[52,20,51,18],[52,23,51,21,"index"],[52,28,51,26],[52,32,51,30],[53,6,52,4],[53,12,52,10,"map"],[53,15,52,13],[53,18,52,16],[54,8,53,6],[54,9,53,7],[54,11,53,9],[54,12,53,10],[55,8,54,6],[55,9,54,7],[55,11,54,9],[55,14,54,12],[56,8,55,6],[56,9,55,7],[56,11,55,9],[56,15,55,13],[57,8,56,6],[57,9,56,7],[57,11,56,9],[57,15,56,13],[58,8,57,6],[58,9,57,7],[58,11,57,9],[59,6,58,4],[59,7,58,5],[60,6,59,4],[60,13,59,11,"map"],[60,16,59,14],[60,17,59,15,"index"],[60,22,59,20],[60,23,59,21],[60,27,59,25,"Math"],[60,31,59,29],[60,32,59,30,"min"],[60,35,59,33],[60,36,59,34],[60,37,59,35],[60,39,59,37,"map"],[60,42,59,40],[60,43,59,41],[60,44,59,42],[60,45,59,43],[60,48,59,46,"index"],[60,53,59,51],[60,56,59,54],[60,59,59,57],[60,60,59,58],[61,4,60,2],[61,5,60,3],[62,4,61,2],[62,10,61,8,"degrees"],[62,17,61,15],[62,20,61,18,"getDegreesRelativeCenter"],[62,44,61,42],[62,45,61,43],[62,46,61,44],[63,4,62,2],[63,10,62,8],[63,11,62,9,"screenHeight"],[63,23,62,21],[63,25,62,23,"offsets"],[63,32,62,30],[63,33,62,31],[63,36,62,34,"getScreenHeightsAndOffsets"],[63,62,62,60],[63,63,62,61,"degrees"],[63,70,62,68],[63,71,62,69],[64,4,63,2],[64,11,63,9],[65,4,64,2],[66,4,65,2],[66,7,65,5,"degrees"],[66,14,65,12],[66,15,65,13,"map"],[66,18,65,16],[66,19,65,17],[66,20,65,18,"degree"],[66,26,65,24],[66,28,65,26,"index"],[66,33,65,31],[66,38,65,36],[67,6,66,4],[67,13,66,11],[68,8,67,6,"index"],[68,13,67,11],[68,15,67,13],[68,16,67,14],[68,17,67,15],[68,21,67,19,"index"],[68,26,67,24],[68,29,67,27],[68,30,67,28],[68,31,67,29],[69,8,68,6,"deg"],[69,11,68,9],[69,13,68,11,"degree"],[69,19,68,17],[70,8,69,6,"opacity"],[70,15,69,13],[70,17,69,15,"getOpacity"],[70,27,69,25],[70,28,69,26,"degrees"],[70,35,69,33],[70,36,69,34,"length"],[70,42,69,40],[70,45,69,43],[70,46,69,44],[70,49,69,47,"index"],[70,54,69,52],[70,55,69,53],[71,8,70,6,"offsetY"],[71,15,70,13],[71,17,70,15],[71,18,70,16],[71,19,70,17],[71,22,70,20,"offsets"],[71,29,70,27],[71,30,70,28,"index"],[71,35,70,33],[71,36,70,34],[72,8,71,6,"screenHeight"],[72,20,71,18],[72,22,71,20,"screenHeight"],[72,34,71,32],[72,35,71,33,"index"],[72,40,71,38],[73,6,72,4],[73,7,72,5],[74,4,73,2],[74,5,73,3],[74,6,73,4],[74,7,73,5,"reverse"],[74,14,73,12],[74,15,73,13],[74,16,73,14],[75,4,74,2],[76,4,75,2],[77,6,76,4,"index"],[77,11,76,9],[77,13,76,11],[77,14,76,12],[78,6,77,4,"deg"],[78,9,77,7],[78,11,77,9],[78,12,77,10],[79,6,78,4,"opacity"],[79,13,78,11],[79,15,78,13],[79,16,78,14],[80,6,79,4,"offsetY"],[80,13,79,11],[80,15,79,13],[80,16,79,14],[81,6,80,4,"screenHeight"],[81,18,80,16],[81,20,80,18,"itemHeight"],[82,4,81,2],[82,5,81,3],[83,4,82,2],[84,4,83,2],[84,7,83,5,"degrees"],[84,14,83,12],[84,15,83,13,"map"],[84,18,83,16],[84,19,83,17],[84,20,83,18,"degree"],[84,26,83,24],[84,28,83,26,"index"],[84,33,83,31],[84,38,83,36],[85,6,84,4],[85,13,84,11],[86,8,85,6,"index"],[86,13,85,11],[86,15,85,13,"index"],[86,20,85,18],[86,23,85,21],[86,24,85,22],[87,8,86,6,"deg"],[87,11,86,9],[87,13,86,11],[87,14,86,12],[87,15,86,13],[87,18,86,16,"degree"],[87,24,86,22],[88,8,87,6,"opacity"],[88,15,87,13],[88,17,87,15,"getOpacity"],[88,27,87,25],[88,28,87,26,"degrees"],[88,35,87,33],[88,36,87,34,"length"],[88,42,87,40],[88,45,87,43],[88,46,87,44],[88,49,87,47,"index"],[88,54,87,52],[88,55,87,53],[89,8,88,6,"offsetY"],[89,15,88,13],[89,17,88,15,"offsets"],[89,24,88,22],[89,25,88,23,"index"],[89,30,88,28],[89,31,88,29],[90,8,89,6,"screenHeight"],[90,20,89,18],[90,22,89,20,"screenHeight"],[90,34,89,32],[90,35,89,33,"index"],[90,40,89,38],[91,6,90,4],[91,7,90,5],[92,4,91,2],[92,5,91,3],[92,6,91,4],[92,7,91,5],[93,2,92,0],[93,3,92,1],[94,2,93,0,"exports"],[94,9,93,7],[94,10,93,8,"createFaces"],[94,21,93,19],[94,24,93,22,"createFaces"],[94,35,93,33],[95,0,93,34],[95,3]],"functionMap":{"names":["<global>","calcHeight","calcPickerHeight","reduce$argument_0","createFaces","getDegreesRelativeCenter","getScreenHeightsAndOffsets","degrees.map$argument_0","screenHeights.map$argument_0","freeSpaces.map$argument_0","getOpacity"],"mappings":"AAA;mBCY,0ED;yBEC;sBCK,qDD;CFC;oBIE;mCCQ;GDQ;qCEC;sCCC,kCD;yCEC,yCF;mCGC;KHM;GFE;qBMC;GNS;iBGK;GHQ;iBGU;GHQ;CJC"},"hasCjsExports":true},"type":"js/module"}]}