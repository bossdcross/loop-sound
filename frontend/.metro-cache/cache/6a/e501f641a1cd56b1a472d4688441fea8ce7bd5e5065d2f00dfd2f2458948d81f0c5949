{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":13,"index":119},"end":{"line":7,"column":29,"index":135}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY=","exportNames":["*"],"imports":1}},{"name":"@rozhkov/react-useful-hooks","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":24,"index":161},"end":{"line":8,"column":62,"index":199}}],"key":"NsQg4ZHinknjzKLIjUbhohBndu8=","exportNames":["*"],"imports":1}},{"name":"../../../utils/scrolling","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":17,"index":218},"end":{"line":9,"column":52,"index":253}}],"key":"z98SE/PVGaHb7vNbaNci8xTAr7k=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactUsefulHooks = require(_dependencyMap[1], \"@rozhkov/react-useful-hooks\");\n  var _scrolling = require(_dependencyMap[2], \"../../../utils/scrolling\");\n  const useValueEventsEffect = ({\n    valueIndex,\n    data,\n    itemHeight,\n    offsetYAv\n  }, {\n    onValueChanging,\n    onValueChanged\n  }) => {\n    const activeIndexRef = (0, _react.useRef)(valueIndex);\n    const getIndex = (0, _reactUsefulHooks.useStableCallback)(offset => (0, _scrolling.getPageIndex)(offset, {\n      maxIndex: data.length - 1,\n      pageLength: itemHeight\n    }));\n    (0, _react.useEffect)(() => {\n      const id = offsetYAv.addListener(({\n        value: offset\n      }) => {\n        const index = getIndex(offset);\n        const activeIndex = activeIndexRef.current;\n        if (index !== activeIndex) {\n          activeIndexRef.current = index;\n          onValueChanging === null || onValueChanging === void 0 || onValueChanging({\n            item: data[index],\n            index\n          });\n        }\n      });\n      return () => {\n        offsetYAv.removeListener(id);\n      };\n    }, [data, getIndex, itemHeight, offsetYAv, onValueChanging]);\n    const onStableValueChanged = (0, _reactUsefulHooks.useStableCallback)(() => {\n      const activeIndex = activeIndexRef.current;\n      if (activeIndex !== valueIndex) {\n        onValueChanged === null || onValueChanged === void 0 || onValueChanged({\n          index: activeIndex,\n          item: data[activeIndex]\n        });\n      }\n    });\n    return {\n      onScrollEnd: onStableValueChanged,\n      activeIndexRef\n    };\n  };\n  var _default = exports.default = useValueEventsEffect;\n});","lineCount":58,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"default"],[7,17,6,15],[7,20,6,18],[7,25,6,23],[7,26,6,24],[8,2,7,0],[8,6,7,4,"_react"],[8,12,7,10],[8,15,7,13,"require"],[8,22,7,20],[8,23,7,20,"_dependencyMap"],[8,37,7,20],[8,49,7,28],[8,50,7,29],[9,2,8,0],[9,6,8,4,"_reactUsefulHooks"],[9,23,8,21],[9,26,8,24,"require"],[9,33,8,31],[9,34,8,31,"_dependencyMap"],[9,48,8,31],[9,82,8,61],[9,83,8,62],[10,2,9,0],[10,6,9,4,"_scrolling"],[10,16,9,14],[10,19,9,17,"require"],[10,26,9,24],[10,27,9,24,"_dependencyMap"],[10,41,9,24],[10,72,9,51],[10,73,9,52],[11,2,10,0],[11,8,10,6,"useValueEventsEffect"],[11,28,10,26],[11,31,10,29,"useValueEventsEffect"],[11,32,10,30],[12,4,11,2,"valueIndex"],[12,14,11,12],[13,4,12,2,"data"],[13,8,12,6],[14,4,13,2,"itemHeight"],[14,14,13,12],[15,4,14,2,"offsetYAv"],[16,2,15,0],[16,3,15,1],[16,5,15,3],[17,4,16,2,"onValueChanging"],[17,19,16,17],[18,4,17,2,"onValueChanged"],[19,2,18,0],[19,3,18,1],[19,8,18,6],[20,4,19,2],[20,10,19,8,"activeIndexRef"],[20,24,19,22],[20,27,19,25],[20,28,19,26],[20,29,19,27],[20,31,19,29,"_react"],[20,37,19,35],[20,38,19,36,"useRef"],[20,44,19,42],[20,46,19,44,"valueIndex"],[20,56,19,54],[20,57,19,55],[21,4,20,2],[21,10,20,8,"getIndex"],[21,18,20,16],[21,21,20,19],[21,22,20,20],[21,23,20,21],[21,25,20,23,"_reactUsefulHooks"],[21,42,20,40],[21,43,20,41,"useStableCallback"],[21,60,20,58],[21,62,20,60,"offset"],[21,68,20,66],[21,72,20,70],[21,73,20,71],[21,74,20,72],[21,76,20,74,"_scrolling"],[21,86,20,84],[21,87,20,85,"getPageIndex"],[21,99,20,97],[21,101,20,99,"offset"],[21,107,20,105],[21,109,20,107],[22,6,21,4,"maxIndex"],[22,14,21,12],[22,16,21,14,"data"],[22,20,21,18],[22,21,21,19,"length"],[22,27,21,25],[22,30,21,28],[22,31,21,29],[23,6,22,4,"pageLength"],[23,16,22,14],[23,18,22,16,"itemHeight"],[24,4,23,2],[24,5,23,3],[24,6,23,4],[24,7,23,5],[25,4,24,2],[25,5,24,3],[25,6,24,4],[25,8,24,6,"_react"],[25,14,24,12],[25,15,24,13,"useEffect"],[25,24,24,22],[25,26,24,24],[25,32,24,30],[26,6,25,4],[26,12,25,10,"id"],[26,14,25,12],[26,17,25,15,"offsetYAv"],[26,26,25,24],[26,27,25,25,"addListener"],[26,38,25,36],[26,39,25,37],[26,40,25,38],[27,8,26,6,"value"],[27,13,26,11],[27,15,26,13,"offset"],[28,6,27,4],[28,7,27,5],[28,12,27,10],[29,8,28,6],[29,14,28,12,"index"],[29,19,28,17],[29,22,28,20,"getIndex"],[29,30,28,28],[29,31,28,29,"offset"],[29,37,28,35],[29,38,28,36],[30,8,29,6],[30,14,29,12,"activeIndex"],[30,25,29,23],[30,28,29,26,"activeIndexRef"],[30,42,29,40],[30,43,29,41,"current"],[30,50,29,48],[31,8,30,6],[31,12,30,10,"index"],[31,17,30,15],[31,22,30,20,"activeIndex"],[31,33,30,31],[31,35,30,33],[32,10,31,8,"activeIndexRef"],[32,24,31,22],[32,25,31,23,"current"],[32,32,31,30],[32,35,31,33,"index"],[32,40,31,38],[33,10,32,8,"onValueChanging"],[33,25,32,23],[33,30,32,28],[33,34,32,32],[33,38,32,36,"onValueChanging"],[33,53,32,51],[33,58,32,56],[33,63,32,61],[33,64,32,62],[33,68,32,66,"onValueChanging"],[33,83,32,81],[33,84,32,82],[34,12,33,10,"item"],[34,16,33,14],[34,18,33,16,"data"],[34,22,33,20],[34,23,33,21,"index"],[34,28,33,26],[34,29,33,27],[35,12,34,10,"index"],[36,10,35,8],[36,11,35,9],[36,12,35,10],[37,8,36,6],[38,6,37,4],[38,7,37,5],[38,8,37,6],[39,6,38,4],[39,13,38,11],[39,19,38,17],[40,8,39,6,"offsetYAv"],[40,17,39,15],[40,18,39,16,"removeListener"],[40,32,39,30],[40,33,39,31,"id"],[40,35,39,33],[40,36,39,34],[41,6,40,4],[41,7,40,5],[42,4,41,2],[42,5,41,3],[42,7,41,5],[42,8,41,6,"data"],[42,12,41,10],[42,14,41,12,"getIndex"],[42,22,41,20],[42,24,41,22,"itemHeight"],[42,34,41,32],[42,36,41,34,"offsetYAv"],[42,45,41,43],[42,47,41,45,"onValueChanging"],[42,62,41,60],[42,63,41,61],[42,64,41,62],[43,4,42,2],[43,10,42,8,"onStableValueChanged"],[43,30,42,28],[43,33,42,31],[43,34,42,32],[43,35,42,33],[43,37,42,35,"_reactUsefulHooks"],[43,54,42,52],[43,55,42,53,"useStableCallback"],[43,72,42,70],[43,74,42,72],[43,80,42,78],[44,6,43,4],[44,12,43,10,"activeIndex"],[44,23,43,21],[44,26,43,24,"activeIndexRef"],[44,40,43,38],[44,41,43,39,"current"],[44,48,43,46],[45,6,44,4],[45,10,44,8,"activeIndex"],[45,21,44,19],[45,26,44,24,"valueIndex"],[45,36,44,34],[45,38,44,36],[46,8,45,6,"onValueChanged"],[46,22,45,20],[46,27,45,25],[46,31,45,29],[46,35,45,33,"onValueChanged"],[46,49,45,47],[46,54,45,52],[46,59,45,57],[46,60,45,58],[46,64,45,62,"onValueChanged"],[46,78,45,76],[46,79,45,77],[47,10,46,8,"index"],[47,15,46,13],[47,17,46,15,"activeIndex"],[47,28,46,26],[48,10,47,8,"item"],[48,14,47,12],[48,16,47,14,"data"],[48,20,47,18],[48,21,47,19,"activeIndex"],[48,32,47,30],[49,8,48,6],[49,9,48,7],[49,10,48,8],[50,6,49,4],[51,4,50,2],[51,5,50,3],[51,6,50,4],[52,4,51,2],[52,11,51,9],[53,6,52,4,"onScrollEnd"],[53,17,52,15],[53,19,52,17,"onStableValueChanged"],[53,39,52,37],[54,6,53,4,"activeIndexRef"],[55,4,54,2],[55,5,54,3],[56,2,55,0],[56,3,55,1],[57,2,56,0],[57,6,56,4,"_default"],[57,14,56,12],[57,17,56,15,"exports"],[57,24,56,22],[57,25,56,23,"default"],[57,32,56,30],[57,35,56,33,"useValueEventsEffect"],[57,55,56,53],[58,0,56,54],[58,3]],"functionMap":{"names":["<global>","useValueEventsEffect","<anonymous>","offsetYAv.addListener$argument_0"],"mappings":"AAA;6BCS;4DCU;IDG;wBCC;qCCC;KDY;GDI;wECC;GDQ;CDK"},"hasCjsExports":true},"type":"js/module"}]}