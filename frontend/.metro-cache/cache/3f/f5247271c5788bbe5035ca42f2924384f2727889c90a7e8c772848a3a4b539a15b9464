{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":83,"index":133}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":134},"end":{"line":3,"column":62,"index":196}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../../context/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":197},"end":{"line":4,"column":52,"index":249}}],"key":"KWwirfplqu3BT8BcMVVrevodMAw=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/(auth)/callback.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AuthCallback;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNative = require(_dependencyMap[2], \"react-native\");\n  var _expoRouter = require(_dependencyMap[3], \"expo-router\");\n  var _contextAuthContext = require(_dependencyMap[4], \"../../context/AuthContext\");\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  function AuthCallback() {\n    _s();\n    var router = (0, _expoRouter.useRouter)();\n    var _useAuth = (0, _contextAuthContext.useAuth)(),\n      processGoogleCallback = _useAuth.processGoogleCallback;\n    var hasProcessed = (0, _react.useRef)(false);\n    (0, _react.useEffect)(() => {\n      if (hasProcessed.current) return;\n      hasProcessed.current = true;\n      var processCallback = /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator.default)(function* () {\n          try {\n            var sessionId = null;\n            if (_reactNative.Platform.OS === 'web') {\n              // Extract session_id from URL hash\n              var hash = window.location.hash;\n              if (hash.includes('session_id=')) {\n                sessionId = hash.split('session_id=')[1]?.split('&')[0] || null;\n              }\n            }\n            if (sessionId) {\n              yield processGoogleCallback(sessionId);\n              // Clear the hash from URL\n              if (_reactNative.Platform.OS === 'web') {\n                window.history.replaceState(null, '', window.location.pathname);\n              }\n              router.replace('/(tabs)/home');\n            } else {\n              // No session_id found, redirect to login\n              router.replace('/(auth)/login');\n            }\n          } catch (error) {\n            console.error('Auth callback error:', error);\n            router.replace('/(auth)/login');\n          }\n        });\n        return function processCallback() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      processCallback();\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.View, {\n      style: styles.container,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.ActivityIndicator, {\n        size: \"large\",\n        color: \"#8B5CF6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.Text, {\n        style: styles.text,\n        children: \"Signing you in...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthCallback, \"NHBSp5vbdVnniL9oGXbLr4IPizc=\", false, function () {\n    return [_expoRouter.useRouter, _contextAuthContext.useAuth];\n  });\n  _c = AuthCallback;\n  var styles = _reactNative.StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: '#0A0A0F',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    text: {\n      color: '#9CA3AF',\n      fontSize: 16,\n      marginTop: 16\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"AuthCallback\");\n});","lineCount":111,"map":[[14,2,6,15,"Object"],[14,8,6,15],[14,9,6,15,"defineProperty"],[14,23,6,15],[14,24,6,15,"exports"],[14,31,6,15],[15,4,6,15,"enumerable"],[15,14,6,15],[16,4,6,15,"get"],[16,7,6,15],[16,18,6,15,"get"],[16,19,6,15],[17,6,6,15],[17,13,6,15,"AuthCallback"],[17,25,6,15],[18,4,6,15],[19,2,6,15],[20,2,53,1],[20,6,53,1,"_babelRuntimeHelpersAsyncToGenerator"],[20,42,53,1],[20,45,53,1,"require"],[20,52,53,1],[20,53,53,1,"_dependencyMap"],[20,67,53,1],[21,2,53,1],[21,6,53,1,"_asyncToGenerator"],[21,23,53,1],[21,26,53,1,"_interopDefault"],[21,41,53,1],[21,42,53,1,"_babelRuntimeHelpersAsyncToGenerator"],[21,78,53,1],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_reactNative"],[23,18,2,0],[23,21,2,0,"require"],[23,28,2,0],[23,29,2,0,"_dependencyMap"],[23,43,2,0],[24,2,3,0],[24,6,3,0,"_expoRouter"],[24,17,3,0],[24,20,3,0,"require"],[24,27,3,0],[24,28,3,0,"_dependencyMap"],[24,42,3,0],[25,2,4,0],[25,6,4,0,"_contextAuthContext"],[25,25,4,0],[25,28,4,0,"require"],[25,35,4,0],[25,36,4,0,"_dependencyMap"],[25,50,4,0],[26,2,4,52],[26,6,4,52,"_reactJsxDevRuntime"],[26,25,4,52],[26,28,4,52,"require"],[26,35,4,52],[26,36,4,52,"_dependencyMap"],[26,50,4,52],[27,2,6,15],[27,11,6,24,"AuthCallback"],[27,23,6,36,"AuthCallback"],[27,24,6,36],[27,26,6,39],[28,4,6,39,"_s"],[28,6,6,39],[29,4,7,2],[29,8,7,8,"router"],[29,14,7,14],[29,17,7,17],[29,21,7,17,"useRouter"],[29,32,7,26],[29,33,7,26,"useRouter"],[29,42,7,26],[29,44,7,27],[29,45,7,28],[30,4,8,2],[30,8,8,2,"_useAuth"],[30,16,8,2],[30,19,8,36],[30,23,8,36,"useAuth"],[30,42,8,43],[30,43,8,43,"useAuth"],[30,50,8,43],[30,52,8,44],[30,53,8,45],[31,6,8,10,"processGoogleCallback"],[31,27,8,31],[31,30,8,31,"_useAuth"],[31,38,8,31],[31,39,8,10,"processGoogleCallback"],[31,60,8,31],[32,4,9,2],[32,8,9,8,"hasProcessed"],[32,20,9,20],[32,23,9,23],[32,27,9,23,"useRef"],[32,33,9,29],[32,34,9,29,"useRef"],[32,40,9,29],[32,42,9,30],[32,47,9,35],[32,48,9,36],[33,4,11,2],[33,8,11,2,"useEffect"],[33,14,11,11],[33,15,11,11,"useEffect"],[33,24,11,11],[33,26,11,12],[33,32,11,18],[34,6,12,4],[34,10,12,8,"hasProcessed"],[34,22,12,20],[34,23,12,21,"current"],[34,30,12,28],[34,32,12,30],[35,6,13,4,"hasProcessed"],[35,18,13,16],[35,19,13,17,"current"],[35,26,13,24],[35,29,13,27],[35,33,13,31],[36,6,15,4],[36,10,15,10,"processCallback"],[36,25,15,25],[37,8,15,25],[37,12,15,25,"_ref"],[37,16,15,25],[37,23,15,25,"_asyncToGenerator"],[37,40,15,25],[37,41,15,25,"default"],[37,48,15,25],[37,50,15,28],[37,63,15,40],[38,10,16,6],[38,14,16,10],[39,12,17,8],[39,16,17,12,"sessionId"],[39,25,17,36],[39,28,17,39],[39,32,17,43],[40,12,19,8],[40,16,19,12,"Platform"],[40,28,19,20],[40,29,19,20,"Platform"],[40,37,19,20],[40,38,19,21,"OS"],[40,40,19,23],[40,45,19,28],[40,50,19,33],[40,52,19,35],[41,14,20,10],[42,14,21,10],[42,18,21,16,"hash"],[42,22,21,20],[42,25,21,23,"window"],[42,31,21,29],[42,32,21,30,"location"],[42,40,21,38],[42,41,21,39,"hash"],[42,45,21,43],[43,14,22,10],[43,18,22,14,"hash"],[43,22,22,18],[43,23,22,19,"includes"],[43,31,22,27],[43,32,22,28],[43,45,22,41],[43,46,22,42],[43,48,22,44],[44,16,23,12,"sessionId"],[44,25,23,21],[44,28,23,24,"hash"],[44,32,23,28],[44,33,23,29,"split"],[44,38,23,34],[44,39,23,35],[44,52,23,48],[44,53,23,49],[44,54,23,50],[44,55,23,51],[44,56,23,52],[44,58,23,54,"split"],[44,63,23,59],[44,64,23,60],[44,67,23,63],[44,68,23,64],[44,69,23,65],[44,70,23,66],[44,71,23,67],[44,75,23,71],[44,79,23,75],[45,14,24,10],[46,12,25,8],[47,12,27,8],[47,16,27,12,"sessionId"],[47,25,27,21],[47,27,27,23],[48,14,28,10],[48,20,28,16,"processGoogleCallback"],[48,41,28,37],[48,42,28,38,"sessionId"],[48,51,28,47],[48,52,28,48],[49,14,29,10],[50,14,30,10],[50,18,30,14,"Platform"],[50,30,30,22],[50,31,30,22,"Platform"],[50,39,30,22],[50,40,30,23,"OS"],[50,42,30,25],[50,47,30,30],[50,52,30,35],[50,54,30,37],[51,16,31,12,"window"],[51,22,31,18],[51,23,31,19,"history"],[51,30,31,26],[51,31,31,27,"replaceState"],[51,43,31,39],[51,44,31,40],[51,48,31,44],[51,50,31,46],[51,52,31,48],[51,54,31,50,"window"],[51,60,31,56],[51,61,31,57,"location"],[51,69,31,65],[51,70,31,66,"pathname"],[51,78,31,74],[51,79,31,75],[52,14,32,10],[53,14,33,10,"router"],[53,20,33,16],[53,21,33,17,"replace"],[53,28,33,24],[53,29,33,25],[53,43,33,39],[53,44,33,40],[54,12,34,8],[54,13,34,9],[54,19,34,15],[55,14,35,10],[56,14,36,10,"router"],[56,20,36,16],[56,21,36,17,"replace"],[56,28,36,24],[56,29,36,25],[56,44,36,40],[56,45,36,41],[57,12,37,8],[58,10,38,6],[58,11,38,7],[58,12,38,8],[58,19,38,15,"error"],[58,24,38,20],[58,26,38,22],[59,12,39,8,"console"],[59,19,39,15],[59,20,39,16,"error"],[59,25,39,21],[59,26,39,22],[59,48,39,44],[59,50,39,46,"error"],[59,55,39,51],[59,56,39,52],[60,12,40,8,"router"],[60,18,40,14],[60,19,40,15,"replace"],[60,26,40,22],[60,27,40,23],[60,42,40,38],[60,43,40,39],[61,10,41,6],[62,8,42,4],[62,9,42,5],[63,8,42,5],[63,24,15,10,"processCallback"],[63,39,15,25,"processCallback"],[63,40,15,25],[64,10,15,25],[64,17,15,25,"_ref"],[64,21,15,25],[64,22,15,25,"apply"],[64,27,15,25],[64,34,15,25,"arguments"],[64,43,15,25],[65,8,15,25],[66,6,15,25],[66,9,42,5],[67,6,44,4,"processCallback"],[67,21,44,19],[67,22,44,20],[67,23,44,21],[68,4,45,2],[68,5,45,3],[68,7,45,5],[68,9,45,7],[68,10,45,8],[69,4,47,2],[69,24,48,4],[69,28,48,4,"_reactJsxDevRuntime"],[69,47,48,4],[69,48,48,4,"jsxDEV"],[69,54,48,4],[69,56,48,5,"_reactNative"],[69,68,48,9],[69,69,48,9,"View"],[69,73,48,9],[70,6,48,10,"style"],[70,11,48,15],[70,13,48,17,"styles"],[70,19,48,23],[70,20,48,24,"container"],[70,29,48,34],[71,6,48,34,"children"],[71,14,48,34],[71,30,49,6],[71,34,49,6,"_reactJsxDevRuntime"],[71,53,49,6],[71,54,49,6,"jsxDEV"],[71,60,49,6],[71,62,49,7,"_reactNative"],[71,74,49,24],[71,75,49,24,"ActivityIndicator"],[71,92,49,24],[72,8,49,25,"size"],[72,12,49,29],[72,14,49,30],[72,21,49,37],[73,8,49,38,"color"],[73,13,49,43],[73,15,49,44],[74,6,49,53],[75,8,49,53,"fileName"],[75,16,49,53],[75,18,49,53,"_jsxFileName"],[75,30,49,53],[76,8,49,53,"lineNumber"],[76,18,49,53],[77,8,49,53,"columnNumber"],[77,20,49,53],[78,6,49,53],[78,13,49,55],[78,14,49,56],[78,29,50,6],[78,33,50,6,"_reactJsxDevRuntime"],[78,52,50,6],[78,53,50,6,"jsxDEV"],[78,59,50,6],[78,61,50,7,"_reactNative"],[78,73,50,11],[78,74,50,11,"Text"],[78,78,50,11],[79,8,50,12,"style"],[79,13,50,17],[79,15,50,19,"styles"],[79,21,50,25],[79,22,50,26,"text"],[79,26,50,31],[80,8,50,31,"children"],[80,16,50,31],[80,18,50,32],[81,6,50,49],[82,8,50,49,"fileName"],[82,16,50,49],[82,18,50,49,"_jsxFileName"],[82,30,50,49],[83,8,50,49,"lineNumber"],[83,18,50,49],[84,8,50,49,"columnNumber"],[84,20,50,49],[85,6,50,49],[85,13,50,55],[85,14,50,56],[86,4,50,56],[87,6,50,56,"fileName"],[87,14,50,56],[87,16,50,56,"_jsxFileName"],[87,28,50,56],[88,6,50,56,"lineNumber"],[88,16,50,56],[89,6,50,56,"columnNumber"],[89,18,50,56],[90,4,50,56],[90,11,51,10],[90,12,51,11],[91,2,53,0],[92,2,53,1,"_s"],[92,4,53,1],[92,5,6,24,"AuthCallback"],[92,17,6,36],[93,4,6,36],[93,12,7,17,"useRouter"],[93,23,7,26],[93,24,7,26,"useRouter"],[93,33,7,26],[93,35,8,36,"useAuth"],[93,54,8,43],[93,55,8,43,"useAuth"],[93,62,8,43],[94,2,8,43],[95,2,8,43,"_c"],[95,4,8,43],[95,7,6,24,"AuthCallback"],[95,19,6,36],[96,2,55,0],[96,6,55,6,"styles"],[96,12,55,12],[96,15,55,15,"StyleSheet"],[96,27,55,25],[96,28,55,25,"StyleSheet"],[96,38,55,25],[96,39,55,26,"create"],[96,45,55,32],[96,46,55,33],[97,4,56,2,"container"],[97,13,56,11],[97,15,56,13],[98,6,57,4,"flex"],[98,10,57,8],[98,12,57,10],[98,13,57,11],[99,6,58,4,"backgroundColor"],[99,21,58,19],[99,23,58,21],[99,32,58,30],[100,6,59,4,"alignItems"],[100,16,59,14],[100,18,59,16],[100,26,59,24],[101,6,60,4,"justifyContent"],[101,20,60,18],[101,22,60,20],[102,4,61,2],[102,5,61,3],[103,4,62,2,"text"],[103,8,62,6],[103,10,62,8],[104,6,63,4,"color"],[104,11,63,9],[104,13,63,11],[104,22,63,20],[105,6,64,4,"fontSize"],[105,14,64,12],[105,16,64,14],[105,18,64,16],[106,6,65,4,"marginTop"],[106,15,65,13],[106,17,65,15],[107,4,66,2],[108,2,67,0],[108,3,67,1],[108,4,67,2],[109,2,67,3],[109,6,67,3,"_c"],[109,8,67,3],[110,2,67,3,"$RefreshReg$"],[110,14,67,3],[110,15,67,3,"_c"],[110,17,67,3],[111,0,67,3],[111,3]],"functionMap":{"names":["<global>","AuthCallback","useEffect$argument_0","processCallback"],"mappings":"AAA;eCK;YCK;4BCI;KD2B;GDG;CDQ"},"hasCjsExports":false},"type":"js/module"}]}